import{ab as u,ac as K,ad as S,ae as $,e as N}from"./index-B68_2ts6.js";const P=Symbol("store-raw"),d=Symbol("store-node"),s=Symbol("store-has"),j=Symbol("store-self");function k(e){let n=e[u];if(!n&&(Object.defineProperty(e,u,{value:n=new Proxy(e,z)}),!Array.isArray(e))){const f=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let o=0,r=f.length;o<r;o++){const l=f[o];i[l].get&&Object.defineProperty(e,l,{enumerable:i[l].enumerable,get:i[l].get.bind(n)})}}return n}function b(e){let n;return e!=null&&typeof e=="object"&&(e[u]||!(n=Object.getPrototypeOf(e))||n===Object.prototype||Array.isArray(e))}function g(e,n=new Set){let f,i,o,r;if(f=e!=null&&e[P])return f;if(!b(e)||n.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):n.add(e);for(let l=0,c=e.length;l<c;l++)o=e[l],(i=g(o,n))!==o&&(e[l]=i)}else{Object.isFrozen(e)?e=Object.assign({},e):n.add(e);const l=Object.keys(e),c=Object.getOwnPropertyDescriptors(e);for(let t=0,w=l.length;t<w;t++)r=l[t],!c[r].get&&(o=e[r],(i=g(o,n))!==o&&(e[r]=i))}return e}function A(e,n){let f=e[n];return f||Object.defineProperty(e,n,{value:f=Object.create(null)}),f}function y(e,n,f){if(e[n])return e[n];const[i,o]=N(f,{equals:!1,internal:!0});return i.$=o,e[n]=i}function F(e,n){const f=Reflect.getOwnPropertyDescriptor(e,n);return!f||f.get||!f.configurable||n===u||n===d||(delete f.value,delete f.writable,f.get=()=>e[u][n]),f}function _(e){$()&&y(A(e,d),j)()}function T(e){return _(e),Reflect.ownKeys(e)}const z={get(e,n,f){if(n===P)return e;if(n===u)return f;if(n===S)return _(e),f;const i=A(e,d),o=i[n];let r=o?o():e[n];if(n===d||n===s||n==="__proto__")return r;if(!o){const l=Object.getOwnPropertyDescriptor(e,n);$()&&(typeof r!="function"||e.hasOwnProperty(n))&&!(l&&l.get)&&(r=y(i,n,r)())}return b(r)?k(r):r},has(e,n){return n===P||n===u||n===S||n===d||n===s||n==="__proto__"?!0:($()&&y(A(e,s),n)(),n in e)},set(){return!0},deleteProperty(){return!0},ownKeys:T,getOwnPropertyDescriptor:F};function O(e,n,f,i=!1){if(!i&&e[n]===f)return;const o=e[n],r=e.length;f===void 0?(delete e[n],e[s]&&e[s][n]&&o!==void 0&&e[s][n].$()):(e[n]=f,e[s]&&e[s][n]&&o===void 0&&e[s][n].$());let l=A(e,d),c;if((c=y(l,n,o))&&c.$(()=>f),Array.isArray(e)&&e.length!==r){for(let t=e.length;t<r;t++)(c=l[t])&&c.$();(c=y(l,"length",r))&&c.$(e.length)}(c=l[j])&&c.$()}function D(e,n){const f=Object.keys(n);for(let i=0;i<f.length;i+=1){const o=f[i];O(e,o,n[o])}}function E(e,n){if(typeof n=="function"&&(n=n(e)),n=g(n),Array.isArray(n)){if(e===n)return;let f=0,i=n.length;for(;f<i;f++){const o=n[f];e[f]!==o&&O(e,f,o)}O(e,"length",i)}else D(e,n)}function a(e,n,f=[]){let i,o=e;if(n.length>1){i=n.shift();const l=typeof i,c=Array.isArray(e);if(Array.isArray(i)){for(let t=0;t<i.length;t++)a(e,[i[t]].concat(n),f);return}else if(c&&l==="function"){for(let t=0;t<e.length;t++)i(e[t],t)&&a(e,[t].concat(n),f);return}else if(c&&l==="object"){const{from:t=0,to:w=e.length-1,by:R=1}=i;for(let h=t;h<=w;h+=R)a(e,[h].concat(n),f);return}else if(n.length>1){a(e[i],n,[i].concat(f));return}o=e[i],f=[i].concat(f)}let r=n[0];typeof r=="function"&&(r=r(o,f),r===o)||i===void 0&&r==null||(r=g(r),i===void 0||b(o)&&b(r)&&!Array.isArray(r)?D(o,r):O(e,i,r))}function W(...[e,n]){const f=g(e||{}),i=Array.isArray(f),o=k(f);function r(...l){K(()=>{i&&l.length===1?E(f,l[0]):a(f,l)})}return[o,r]}export{W as c};
