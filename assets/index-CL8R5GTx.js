import{R as z,r as p,u as Zr,j as a,P as W,a as Qr,c as K,b as je,d as Q,e as Wt,f as Ut,g as Jr,h as X,i as A,k as dt,S as en,l as $,T as tn,m as rn,n as nn}from"./index-DgATR6eI.js";var Gt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ft=z.createContext&&z.createContext(Gt),on=["attr","size","title"];function sn(e,r){if(e==null)return{};var t=an(e,r),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function an(e,r){if(e==null)return{};var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;t[n]=e[n]}return t}function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Be.apply(this,arguments)}function Mt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function $e(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Mt(Object(t),!0).forEach(function(n){ln(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Mt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ln(e,r,t){return r=cn(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function cn(e){var r=un(e,"string");return typeof r=="symbol"?r:r+""}function un(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Kt(e){return e&&e.map((r,t)=>z.createElement(r.tag,$e({key:t},r.attr),Kt(r.child)))}function q(e){return r=>z.createElement(dn,Be({attr:$e({},e.attr)},r),Kt(e.child))}function dn(e){var r=t=>{var{attr:n,size:o,title:i}=e,s=sn(e,on),c=o||t.size||"1em",l;return t.className&&(l=t.className),e.className&&(l=(l?l+" ":"")+e.className),z.createElement("svg",Be({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,s,{className:l,style:$e($e({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&z.createElement("title",null,i),e.children)};return Ft!==void 0?z.createElement(Ft.Consumer,null,t=>r(t)):r(Gt)}var qe="Collapsible",[fn]=Ut(qe),[hn,ft]=fn(qe),qt=p.forwardRef((e,r)=>{const{__scopeCollapsible:t,open:n,defaultOpen:o,disabled:i,onOpenChange:s,...c}=e,[l,d]=Zr({prop:n,defaultProp:o??!1,onChange:s,caller:qe});return a.jsx(hn,{scope:t,disabled:i,contentId:Qr(),open:l,onOpenToggle:p.useCallback(()=>d(u=>!u),[d]),children:a.jsx(W.div,{"data-state":mt(l),"data-disabled":i?"":void 0,...c,ref:r})})});qt.displayName=qe;var Xt="CollapsibleTrigger",Yt=p.forwardRef((e,r)=>{const{__scopeCollapsible:t,...n}=e,o=ft(Xt,t);return a.jsx(W.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":mt(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...n,ref:r,onClick:K(e.onClick,o.onOpenToggle)})});Yt.displayName=Xt;var ht="CollapsibleContent",Zt=p.forwardRef((e,r)=>{const{forceMount:t,...n}=e,o=ft(ht,e.__scopeCollapsible);return a.jsx(je,{present:t||o.open,children:({present:i})=>a.jsx(mn,{...n,ref:r,present:i})})});Zt.displayName=ht;var mn=p.forwardRef((e,r)=>{const{__scopeCollapsible:t,present:n,children:o,...i}=e,s=ft(ht,t),[c,l]=p.useState(n),d=p.useRef(null),u=Q(r,d),f=p.useRef(0),m=f.current,h=p.useRef(0),v=h.current,b=s.open||c,y=p.useRef(b),g=p.useRef(void 0);return p.useEffect(()=>{const x=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(x)},[]),Wt(()=>{const x=d.current;if(x){g.current=g.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const M=x.getBoundingClientRect();f.current=M.height,h.current=M.width,y.current||(x.style.transitionDuration=g.current.transitionDuration,x.style.animationName=g.current.animationName),l(n)}},[s.open,n]),a.jsx(W.div,{"data-state":mt(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!b,...i,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:b&&o})});function mt(e){return e?"open":"closed"}var pn=qt,vn="Label",Qt=p.forwardRef((e,r)=>a.jsx(W.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Qt.displayName=vn;var gn=Qt;function bn(e,[r,t]){return Math.min(t,Math.max(r,e))}function yn(e,r){return p.useReducer((t,n)=>r[t][n]??t,e)}var pt="ScrollArea",[Jt]=Ut(pt),[xn,R]=Jt(pt),er=p.forwardRef((e,r)=>{const{__scopeScrollArea:t,type:n="hover",dir:o,scrollHideDelay:i=600,...s}=e,[c,l]=p.useState(null),[d,u]=p.useState(null),[f,m]=p.useState(null),[h,v]=p.useState(null),[b,y]=p.useState(null),[g,x]=p.useState(0),[M,j]=p.useState(0),[F,V]=p.useState(!1),[E,P]=p.useState(!1),w=Q(r,O=>l(O)),C=Jr(o);return a.jsx(xn,{scope:t,type:n,dir:C,scrollHideDelay:i,scrollArea:c,viewport:d,onViewportChange:u,content:f,onContentChange:m,scrollbarX:h,onScrollbarXChange:v,scrollbarXEnabled:F,onScrollbarXEnabledChange:V,scrollbarY:b,onScrollbarYChange:y,scrollbarYEnabled:E,onScrollbarYEnabledChange:P,onCornerWidthChange:x,onCornerHeightChange:j,children:a.jsx(W.div,{dir:C,...s,ref:w,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":M+"px",...e.style}})})});er.displayName=pt;var tr="ScrollAreaViewport",rr=p.forwardRef((e,r)=>{const{__scopeScrollArea:t,children:n,nonce:o,...i}=e,s=R(tr,t),c=p.useRef(null),l=Q(r,c,s.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),a.jsx(W.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});rr.displayName=tr;var U="ScrollAreaScrollbar",nr=p.forwardRef((e,r)=>{const{forceMount:t,...n}=e,o=R(U,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=o,c=e.orientation==="horizontal";return p.useEffect(()=>(c?i(!0):s(!0),()=>{c?i(!1):s(!1)}),[c,i,s]),o.type==="hover"?a.jsx(wn,{...n,ref:r,forceMount:t}):o.type==="scroll"?a.jsx(Sn,{...n,ref:r,forceMount:t}):o.type==="auto"?a.jsx(or,{...n,ref:r,forceMount:t}):o.type==="always"?a.jsx(vt,{...n,ref:r}):null});nr.displayName=U;var wn=p.forwardRef((e,r)=>{const{forceMount:t,...n}=e,o=R(U,e.__scopeScrollArea),[i,s]=p.useState(!1);return p.useEffect(()=>{const c=o.scrollArea;let l=0;if(c){const d=()=>{window.clearTimeout(l),s(!0)},u=()=>{l=window.setTimeout(()=>s(!1),o.scrollHideDelay)};return c.addEventListener("pointerenter",d),c.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),c.removeEventListener("pointerenter",d),c.removeEventListener("pointerleave",u)}}},[o.scrollArea,o.scrollHideDelay]),a.jsx(je,{present:t||i,children:a.jsx(or,{"data-state":i?"visible":"hidden",...n,ref:r})})}),Sn=p.forwardRef((e,r)=>{const{forceMount:t,...n}=e,o=R(U,e.__scopeScrollArea),i=e.orientation==="horizontal",s=Ye(()=>l("SCROLL_END"),100),[c,l]=yn("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(c==="idle"){const d=window.setTimeout(()=>l("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(d)}},[c,o.scrollHideDelay,l]),p.useEffect(()=>{const d=o.viewport,u=i?"scrollLeft":"scrollTop";if(d){let f=d[u];const m=()=>{const h=d[u];f!==h&&(l("SCROLL"),s()),f=h};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[o.viewport,i,l,s]),a.jsx(je,{present:t||c!=="hidden",children:a.jsx(vt,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:r,onPointerEnter:K(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:K(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),or=p.forwardRef((e,r)=>{const t=R(U,e.__scopeScrollArea),{forceMount:n,...o}=e,[i,s]=p.useState(!1),c=e.orientation==="horizontal",l=Ye(()=>{if(t.viewport){const d=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;s(c?d:u)}},10);return de(t.viewport,l),de(t.content,l),a.jsx(je,{present:n||i,children:a.jsx(vt,{"data-state":i?"visible":"hidden",...o,ref:r})})}),vt=p.forwardRef((e,r)=>{const{orientation:t="vertical",...n}=e,o=R(U,e.__scopeScrollArea),i=p.useRef(null),s=p.useRef(0),[c,l]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=cr(c.viewport,c.content),u={...n,sizes:c,onSizesChange:l,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:m=>s.current=m};function f(m,h){return Cn(m,s.current,c,h)}return t==="horizontal"?a.jsx(Fn,{...u,ref:r,onThumbPositionChange:()=>{if(o.viewport&&i.current){const m=o.viewport.scrollLeft,h=jt(m,c,o.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollLeft=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollLeft=f(m,o.dir))}}):t==="vertical"?a.jsx(Mn,{...u,ref:r,onThumbPositionChange:()=>{if(o.viewport&&i.current){const m=o.viewport.scrollTop,h=jt(m,c);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollTop=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollTop=f(m))}}):null}),Fn=p.forwardRef((e,r)=>{const{sizes:t,onSizesChange:n,...o}=e,i=R(U,e.__scopeScrollArea),[s,c]=p.useState(),l=p.useRef(null),d=Q(r,l,i.onScrollbarXChange);return p.useEffect(()=>{l.current&&c(getComputedStyle(l.current))},[l]),a.jsx(sr,{"data-orientation":"horizontal",...o,ref:d,sizes:t,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Xe(t)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),dr(m,f)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&s&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:He(s.paddingLeft),paddingEnd:He(s.paddingRight)}})}})}),Mn=p.forwardRef((e,r)=>{const{sizes:t,onSizesChange:n,...o}=e,i=R(U,e.__scopeScrollArea),[s,c]=p.useState(),l=p.useRef(null),d=Q(r,l,i.onScrollbarYChange);return p.useEffect(()=>{l.current&&c(getComputedStyle(l.current))},[l]),a.jsx(sr,{"data-orientation":"vertical",...o,ref:d,sizes:t,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Xe(t)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),dr(m,f)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&s&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:He(s.paddingTop),paddingEnd:He(s.paddingBottom)}})}})}),[jn,ir]=Jt(U),sr=p.forwardRef((e,r)=>{const{__scopeScrollArea:t,sizes:n,hasThumb:o,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:c,onThumbPositionChange:l,onDragScroll:d,onWheelScroll:u,onResize:f,...m}=e,h=R(U,t),[v,b]=p.useState(null),y=Q(r,w=>b(w)),g=p.useRef(null),x=p.useRef(""),M=h.viewport,j=n.content-n.viewport,F=X(u),V=X(l),E=Ye(f,10);function P(w){if(g.current){const C=w.clientX-g.current.left,O=w.clientY-g.current.top;d({x:C,y:O})}}return p.useEffect(()=>{const w=C=>{const O=C.target;v?.contains(O)&&F(C,j)};return document.addEventListener("wheel",w,{passive:!1}),()=>document.removeEventListener("wheel",w,{passive:!1})},[M,v,j,F]),p.useEffect(V,[n,V]),de(v,E),de(h.content,E),a.jsx(jn,{scope:t,scrollbar:v,hasThumb:o,onThumbChange:X(i),onThumbPointerUp:X(s),onThumbPositionChange:V,onThumbPointerDown:X(c),children:a.jsx(W.div,{...m,ref:y,style:{position:"absolute",...m.style},onPointerDown:K(e.onPointerDown,w=>{w.button===0&&(w.target.setPointerCapture(w.pointerId),g.current=v.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),P(w))}),onPointerMove:K(e.onPointerMove,P),onPointerUp:K(e.onPointerUp,w=>{const C=w.target;C.hasPointerCapture(w.pointerId)&&C.releasePointerCapture(w.pointerId),document.body.style.webkitUserSelect=x.current,h.viewport&&(h.viewport.style.scrollBehavior=""),g.current=null})})})}),ze="ScrollAreaThumb",ar=p.forwardRef((e,r)=>{const{forceMount:t,...n}=e,o=ir(ze,e.__scopeScrollArea);return a.jsx(je,{present:t||o.hasThumb,children:a.jsx(En,{ref:r,...n})})}),En=p.forwardRef((e,r)=>{const{__scopeScrollArea:t,style:n,...o}=e,i=R(ze,t),s=ir(ze,t),{onThumbPositionChange:c}=s,l=Q(r,f=>s.onThumbChange(f)),d=p.useRef(void 0),u=Ye(()=>{d.current&&(d.current(),d.current=void 0)},100);return p.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(u(),!d.current){const h=An(f,c);d.current=h,c()}};return c(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,u,c]),a.jsx(W.div,{"data-state":s.hasThumb?"visible":"hidden",...o,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:K(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),v=f.clientX-h.left,b=f.clientY-h.top;s.onThumbPointerDown({x:v,y:b})}),onPointerUp:K(e.onPointerUp,s.onThumbPointerUp)})});ar.displayName=ze;var gt="ScrollAreaCorner",lr=p.forwardRef((e,r)=>{const t=R(gt,e.__scopeScrollArea),n=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&n?a.jsx(Vn,{...e,ref:r}):null});lr.displayName=gt;var Vn=p.forwardRef((e,r)=>{const{__scopeScrollArea:t,...n}=e,o=R(gt,t),[i,s]=p.useState(0),[c,l]=p.useState(0),d=!!(i&&c);return de(o.scrollbarX,()=>{const u=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(u),l(u)}),de(o.scrollbarY,()=>{const u=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(u),s(u)}),d?a.jsx(W.div,{...n,ref:r,style:{width:i,height:c,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function He(e){return e?parseInt(e,10):0}function cr(e,r){const t=e/r;return isNaN(t)?0:t}function Xe(e){const r=cr(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-t)*r;return Math.max(n,18)}function Cn(e,r,t,n="ltr"){const o=Xe(t),i=o/2,s=r||i,c=o-s,l=t.scrollbar.paddingStart+s,d=t.scrollbar.size-t.scrollbar.paddingEnd-c,u=t.content-t.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return ur([l,d],f)(e)}function jt(e,r,t="ltr"){const n=Xe(r),o=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-o,s=r.content-r.viewport,c=i-n,l=t==="ltr"?[0,s]:[s*-1,0],d=bn(e,l);return ur([0,s],[0,c])(d)}function ur(e,r){return t=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const n=(r[1]-r[0])/(e[1]-e[0]);return r[0]+n*(t-e[0])}}function dr(e,r){return e>0&&e<r}var An=(e,r=()=>{})=>{let t={left:e.scrollLeft,top:e.scrollTop},n=0;return(function o(){const i={left:e.scrollLeft,top:e.scrollTop},s=t.left!==i.left,c=t.top!==i.top;(s||c)&&r(),t=i,n=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(n)};function Ye(e,r){const t=X(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(t,r)},[t,r])}function de(e,r){const t=X(r);Wt(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(t)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,t])}var Pn=er,On=rr,Tn=lr,kn="Separator",Et="horizontal",In=["horizontal","vertical"],fr=p.forwardRef((e,r)=>{const{decorative:t,orientation:n=Et,...o}=e,i=Ln(n)?n:Et,c=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(W.div,{"data-orientation":i,...c,...o,ref:r})});fr.displayName=kn;function Ln(e){return In.includes(e)}var Nn=fr;const ce=new WeakMap,Re=new WeakMap,We={current:[]};let et=!1,ye=0;const be=new Set,Pe=new Map;function hr(e){const r=Array.from(e).sort((t,n)=>t instanceof H&&t.options.deps.includes(n)?1:n instanceof H&&n.options.deps.includes(t)?-1:0);for(const t of r){if(We.current.includes(t))continue;We.current.push(t),t.recompute();const n=Re.get(t);if(n)for(const o of n){const i=ce.get(o);i&&hr(i)}}}function Rn(e){const r={prevVal:e.prevState,currentVal:e.state};for(const t of e.listeners)t(r)}function _n(e){const r={prevVal:e.prevState,currentVal:e.state};for(const t of e.listeners)t(r)}function mr(e){if(ye>0&&!Pe.has(e)&&Pe.set(e,e.prevState),be.add(e),!(ye>0)&&!et)try{for(et=!0;be.size>0;){const r=Array.from(be);be.clear();for(const t of r){const n=Pe.get(t)??t.prevState;t.prevState=n,Rn(t)}for(const t of r){const n=ce.get(t);n&&(We.current.push(t),hr(n))}for(const t of r){const n=ce.get(t);if(n)for(const o of n)_n(o)}}}finally{et=!1,We.current=[],Pe.clear()}}function B(e){ye++;try{e()}finally{if(ye--,ye===0){const r=be.values().next().value;r&&mr(r)}}}function Dn(e){return typeof e=="function"}class rt{constructor(r,t){this.listeners=new Set,this.subscribe=n=>{var o,i;this.listeners.add(n);const s=(i=(o=this.options)==null?void 0:o.onSubscribe)==null?void 0:i.call(o,n,this);return()=>{this.listeners.delete(n),s?.()}},this.prevState=r,this.state=r,this.options=t}setState(r){var t,n,o;this.prevState=this.state,(t=this.options)!=null&&t.updateFn?this.state=this.options.updateFn(this.prevState)(r):Dn(r)?this.state=r(this.prevState):this.state=r,(o=(n=this.options)==null?void 0:n.onUpdate)==null||o.call(n),mr(this)}}class H{constructor(r){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const t=this.options.deps.length,n=new Array(t),o=new Array(t);for(let i=0;i<t;i++){const s=this.options.deps[i];n[i]=s.prevState,o[i]=s.state}return this.lastSeenDepValues=o,{prevDepVals:n,currDepVals:o,prevVal:this.prevState??void 0}},this.recompute=()=>{var t,n;this.prevState=this.state;const o=this.getDepVals();this.state=this.options.fn(o),(n=(t=this.options).onUpdate)==null||n.call(t)},this.checkIfRecalculationNeededDeeply=()=>{for(const i of this.options.deps)i instanceof H&&i.checkIfRecalculationNeededDeeply();let t=!1;const n=this.lastSeenDepValues,{currDepVals:o}=this.getDepVals();for(let i=0;i<o.length;i++)if(o[i]!==n[i]){t=!0;break}t&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const t of this._subscriptions)t()}),this.subscribe=t=>{var n,o;this.listeners.add(t);const i=(o=(n=this.options).onSubscribe)==null?void 0:o.call(n,t,this);return()=>{this.listeners.delete(t),i?.()}},this.options=r,this.state=r.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(r=this.options.deps){for(const t of r)if(t instanceof H)t.registerOnGraph(),this.registerOnGraph(t.options.deps);else if(t instanceof rt){let n=ce.get(t);n||(n=new Set,ce.set(t,n)),n.add(this);let o=Re.get(this);o||(o=new Set,Re.set(this,o)),o.add(t)}}unregisterFromGraph(r=this.options.deps){for(const t of r)if(t instanceof H)this.unregisterFromGraph(t.options.deps);else if(t instanceof rt){const n=ce.get(t);n&&n.delete(this);const o=Re.get(this);o&&o.delete(t)}}}var Bn=class{constructor(e,r){this.fn=e,this.options=r,this.lastExecutionTime=0,this.isPending=!1,this.maybeExecute=(...t)=>{const n=Date.now()-this.lastExecutionTime;if(this.options.leading&&n>=this.options.wait)this.execute(...t);else if(this.lastArgs=t,!this.timeoutId&&this.options.trailing){const o=this.options.wait-n;this.isPending=!0,this.timeoutId=setTimeout(()=>{this.lastArgs!==void 0&&this.execute(...this.lastArgs)},o)}},this.execute=(...t)=>{this.fn(...t),this.options.onExecute?.(t,this),this.lastExecutionTime=Date.now(),this.clearTimeout(),this.lastArgs=void 0,this.isPending=!1},this.flush=()=>{this.isPending&&this.lastArgs&&this.execute(...this.lastArgs)},this.cancel=()=>{this.clearTimeout(),this.lastArgs=void 0,this.isPending=!1},this.clearTimeout=()=>{this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)},this.options.leading===void 0&&this.options.trailing===void 0&&(this.options.leading=!0,this.options.trailing=!0)}};function $n(e,r){return new Bn(e,r).maybeExecute}class zn{#i=!0;#t;#e;#d;#r;#a;#n;#l;#f=0;#m=5;#s=!1;#c=!1;#o=null;#h=()=>{this.debugLog("Connected to event bus"),this.#a=!0,this.#s=!1,this.debugLog("Emitting queued events",this.#r),this.#r.forEach(r=>this.emitEventToBus(r)),this.#r=[],this.stopConnectLoop(),this.#e().removeEventListener("tanstack-connect-success",this.#h)};#u=()=>{if(this.#f<this.#m){this.#f++,this.dispatchCustomEvent("tanstack-connect",{});return}this.#e().removeEventListener("tanstack-connect",this.#u),this.#c=!0,this.debugLog("Max retries reached, giving up on connection"),this.stopConnectLoop()};#p=()=>{this.#s||(this.#s=!0,this.#e().addEventListener("tanstack-connect-success",this.#h),this.#u())};constructor({pluginId:r,debug:t=!1,enabled:n=!0,reconnectEveryMs:o=300}){this.#t=r,this.#i=n,this.#e=this.getGlobalTarget,this.#d=t,this.debugLog(" Initializing event subscription for plugin",this.#t),this.#r=[],this.#a=!1,this.#c=!1,this.#n=null,this.#l=o}startConnectLoop(){this.#n!==null||this.#a||(this.debugLog(`Starting connect loop (every ${this.#l}ms)`),this.#n=setInterval(this.#u,this.#l))}stopConnectLoop(){this.#s=!1,this.#n!==null&&(clearInterval(this.#n),this.#n=null,this.#r=[],this.debugLog("Stopped connect loop"))}debugLog(...r){this.#d&&console.log(`ðŸŒ´ [tanstack-devtools:${this.#t}-plugin]`,...r)}getGlobalTarget(){if(typeof globalThis<"u"&&globalThis.__TANSTACK_EVENT_TARGET__)return this.debugLog("Using global event target"),globalThis.__TANSTACK_EVENT_TARGET__;if(typeof window<"u"&&typeof window.addEventListener<"u")return this.debugLog("Using window as event target"),window;const r=typeof EventTarget<"u"?new EventTarget:void 0;return typeof r>"u"||typeof r.addEventListener>"u"?(this.debugLog("No event mechanism available, running in non-web environment"),{addEventListener:()=>{},removeEventListener:()=>{},dispatchEvent:()=>!1}):(this.debugLog("Using new EventTarget as fallback"),r)}getPluginId(){return this.#t}dispatchCustomEventShim(r,t){try{const n=new Event(r,{detail:t});this.#e().dispatchEvent(n)}catch{this.debugLog("Failed to dispatch shim event")}}dispatchCustomEvent(r,t){try{this.#e().dispatchEvent(new CustomEvent(r,{detail:t}))}catch{this.dispatchCustomEventShim(r,t)}}emitEventToBus(r){this.debugLog("Emitting event to client bus",r),this.dispatchCustomEvent("tanstack-dispatch-event",r)}createEventPayload(r,t){return{type:`${this.#t}:${r}`,payload:t,pluginId:this.#t}}emit(r,t){if(!this.#i){this.debugLog("Event bus client is disabled, not emitting event",r,t);return}if(this.#o&&(this.debugLog("Emitting event to internal event target",r,t),this.#o.dispatchEvent(new CustomEvent(`${this.#t}:${r}`,{detail:this.createEventPayload(r,t)}))),this.#c){this.debugLog("Previously failed to connect, not emitting to bus");return}if(!this.#a){this.debugLog("Bus not available, will be pushed as soon as connected"),this.#r.push(this.createEventPayload(r,t)),typeof CustomEvent<"u"&&!this.#s&&(this.#p(),this.startConnectLoop());return}return this.emitEventToBus(this.createEventPayload(r,t))}on(r,t,n){const o=n?.withEventTarget??!1,i=`${this.#t}:${r}`;if(o&&(this.#o||(this.#o=new EventTarget),this.#o.addEventListener(i,c=>{t(c.detail)})),!this.#i)return this.debugLog("Event bus client is disabled, not registering event",i),()=>{};const s=c=>{this.debugLog("Received event from bus",c.detail),t(c.detail)};return this.#e().addEventListener(i,s),this.debugLog("Registered event to bus",i),()=>{o&&this.#o?.removeEventListener(i,s),this.#e().removeEventListener(i,s)}}onAll(r){if(!this.#i)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const t=n=>{const o=n.detail;r(o)};return this.#e().addEventListener("tanstack-devtools-global",t),()=>this.#e().removeEventListener("tanstack-devtools-global",t)}onAllPluginEvents(r){if(!this.#i)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const t=n=>{const o=n.detail;this.#t&&o.pluginId!==this.#t||r(o)};return this.#e().addEventListener("tanstack-devtools-global",t),()=>this.#e().removeEventListener("tanstack-devtools-global",t)}}class Hn extends zn{constructor(){super({pluginId:"form-devtools",reconnectEveryMs:1e3})}}const N=new Hn;function Ee(e,r){return typeof e=="function"?e(r):e}function se(e,r){return Ze(r).reduce((n,o)=>{if(n===null)return null;if(typeof n<"u")return n[o]},e)}function Oe(e,r,t){const n=Ze(r);function o(i){if(!n.length)return Ee(t,i);const s=n.shift();if(typeof s=="string"||typeof s=="number"&&!Array.isArray(i))return typeof i=="object"?(i===null&&(i={}),{...i,[s]:o(i[s])}):{[s]:o()};if(Array.isArray(i)&&typeof s=="number"){const c=i.slice(0,s);return[...c.length?c:new Array(s),o(i[s]),...i.slice(s+1)]}return[...new Array(s),o()]}return o(e)}function Wn(e,r){const t=Ze(r);function n(o){if(!o)return;if(t.length===1){const s=t[0];if(Array.isArray(o)&&typeof s=="number")return o.filter((d,u)=>u!==s);const{[s]:c,...l}=o;return l}const i=t.shift();if((typeof i=="string"||typeof i=="number"&&!Array.isArray(o))&&typeof o=="object")return{...o,[i]:n(o[i])};if(typeof i=="number"&&Array.isArray(o)){if(i>=o.length)return o;const s=o.slice(0,i);return[...s.length?s:new Array(i),n(o[i]),...o.slice(i+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return n(e)}const Un=/^(\d+)$/gm,Gn=/\.(\d+)(?=\.)/gm,Kn=/^(\d+)\./gm,qn=/\.(\d+$)/gm,Xn=/\.{2,}/gm,nt="__int__",Te=`${nt}$1`;function Ze(e){if(Array.isArray(e))return[...e];if(typeof e!="string")throw new Error("Path must be a string.");return e.replace(/(^\[)|]/gm,"").replace(/\[/g,".").replace(Un,Te).replace(Gn,`.${Te}.`).replace(Kn,`${Te}.`).replace(qn,`.${Te}`).replace(Xn,".").split(".").map(r=>{if(r.startsWith(nt)){const t=r.substring(nt.length),n=parseInt(t,10);return String(n)===t?n:t}return r})}function Vt(e,r){return e.length===0?r:r.length===0?e:r.startsWith("[")||r.startsWith(".")?e+r:`${e}.${r}`}function Yn(e){return!(Array.isArray(e)&&e.length===0)}function ot(e,r){const t=n=>n.validators.filter(Boolean).map(o=>({cause:o.cause,validate:o.fn}));return r.validationLogic({form:r.form,validators:r.validators,event:{type:e,async:!1},runValidation:t})}function it(e,r){const{asyncDebounceMs:t}=r,{onBlurAsyncDebounceMs:n,onChangeAsyncDebounceMs:o,onDynamicAsyncDebounceMs:i}=r.validators||{},s=t??0,c=l=>l.validators.filter(Boolean).map(d=>{const u=d?.cause||e;let f=s;switch(u){case"change":f=o??s;break;case"blur":f=n??s;break;case"dynamic":f=i??s;break;case"submit":f=0;break}return e==="submit"&&(f=0),{cause:u,validate:d.fn,debounceMs:f}});return r.validationLogic({form:r.form,validators:r.validators,event:{type:e,async:!0},runValidation:c})}const st=e=>!!e&&typeof e=="object"&&"fields"in e;function G(e,r){if(Object.is(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;if(e instanceof Date&&r instanceof Date)return e.getTime()===r.getTime();if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(const[o,i]of e)if(!r.has(o)||!Object.is(i,r.get(o)))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(const o of e)if(!r.has(o))return!1;return!0}const t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(const o of t)if(!n.includes(o)||!G(e[o],r[o]))return!1;return!0}const Ct=({newFormValidatorError:e,isPreviousErrorFromFormValidator:r,previousErrorValue:t})=>e?{newErrorValue:e,newSource:"form"}:r?{newErrorValue:void 0,newSource:void 0}:t?{newErrorValue:t,newSource:"field"}:{newErrorValue:void 0,newSource:void 0},At=({formLevelError:e,fieldLevelError:r})=>r?{newErrorValue:r,newSource:"field"}:e?{newErrorValue:e,newSource:"form"}:{newErrorValue:void 0,newSource:void 0};function I(e,r){return e==null?r:{...e,...r}}let Y=256;const _e=[];let ke;for(;Y--;)_e[Y]=(Y+256).toString(16).substring(1);function pr(){let e=0,r,t="";if(!ke||Y+16>256){for(ke=new Array(256),e=256;e--;)ke[e]=256*Math.random()|0;e=0,Y=0}for(;e<16;e++)r=ke[Y+e],e===6?t+=_e[r&15|64]:e===8?t+=_e[r&63|128]:t+=_e[r],e&1&&e>1&&e<11&&(t+="-");return Y++,t}const Zn=$n(e=>N.emit("form-state",{id:e.formId,state:e.store.state}),{wait:300}),ae=e=>{if(!e.validators)return e.runValidation({validators:[],form:e.form});const r=e.event.async,t=r?void 0:{fn:e.validators.onMount,cause:"mount"},n={fn:r?e.validators.onChangeAsync:e.validators.onChange,cause:"change"},o={fn:r?e.validators.onBlurAsync:e.validators.onBlur,cause:"blur"},i={fn:r?e.validators.onSubmitAsync:e.validators.onSubmit,cause:"submit"},s=r?void 0:{fn:()=>{},cause:"server"};switch(e.event.type){case"mount":return e.runValidation({validators:[t],form:e.form});case"submit":return e.runValidation({validators:[n,o,i,s],form:e.form});case"server":return e.runValidation({validators:[],form:e.form});case"blur":return e.runValidation({validators:[o,s],form:e.form});case"change":return e.runValidation({validators:[n,s],form:e.form});default:throw new Error(`Unknown validation event type: ${e.event.type}`)}};function Qn(e,r){const t=new Map;for(const n of e){const o=n.path??[];let i=r,s="";for(let c=0;c<o.length;c++){const l=o[c];if(l===void 0)continue;const d=typeof l=="object"?l.key:l,u=Number(d);Array.isArray(i)&&!Number.isNaN(u)?s+=`[${u}]`:s+=(c>0?".":"")+String(d),typeof i=="object"&&i!==null?i=i[d]:i=void 0}t.set(s,(t.get(s)??[]).concat(n))}return Object.fromEntries(t)}const Pt=(e,r)=>{const t=Qn(e,r);return{form:t,fields:t}},ue={validate({value:e,validationSource:r},t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new Error("async function passed to sync validator");if(n.issues)return r==="field"?n.issues:Pt(n.issues,e)},async validateAsync({value:e,validationSource:r},t){const n=await t["~standard"].validate(e);if(n.issues)return r==="field"?n.issues:Pt(n.issues,e)}},vr=e=>!!e&&"~standard"in e,le={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,isValid:!0,isDefaultValue:!0,errors:[],errorMap:{},errorSourceMap:{}};function Ie(e){function r(u,f,m){const h=s(u,f,"move",m),v=Math.min(f,m),b=Math.max(f,m);for(let g=v;g<=b;g++)h.push(i(u,g));const y=Object.keys(e.fieldInfo).reduce((g,x)=>(x.startsWith(i(u,f))&&g.set(x,e.getFieldMeta(x)),g),new Map);l(h,f<m?"up":"down"),Object.keys(e.fieldInfo).filter(g=>g.startsWith(i(u,m))).forEach(g=>{const x=g.replace(i(u,m),i(u,f)),M=y.get(x);M&&e.setFieldMeta(g,M)})}function t(u,f){const m=s(u,f,"remove");l(m,"up")}function n(u,f,m){s(u,f,"swap",m).forEach(v=>{if(!v.toString().startsWith(i(u,f)))return;const b=v.toString().replace(i(u,f),i(u,m)),[y,g]=[e.getFieldMeta(v),e.getFieldMeta(b)];y&&e.setFieldMeta(b,y),g&&e.setFieldMeta(v,g)})}function o(u,f){const m=s(u,f,"insert");l(m,"down"),m.forEach(h=>{h.toString().startsWith(i(u,f))&&e.setFieldMeta(h,d())})}function i(u,f){return`${u}[${f}]`}function s(u,f,m,h){const v=[i(u,f)];switch(m){case"swap":v.push(i(u,h));break;case"move":{const[b,y]=[Math.min(f,h),Math.max(f,h)];for(let g=b;g<=y;g++)v.push(i(u,g));break}default:{const b=e.getFieldValue(u),y=Array.isArray(b)?b.length:0;for(let g=f+1;g<y;g++)v.push(i(u,g));break}}return Object.keys(e.fieldInfo).filter(b=>v.some(y=>b.startsWith(y)))}function c(u,f){return u.replace(/\[(\d+)\]/,(m,h)=>{const v=parseInt(h,10);return`[${f==="up"?v+1:Math.max(0,v-1)}]`})}function l(u,f){(f==="up"?u:[...u].reverse()).forEach(h=>{const v=c(h.toString(),f),b=e.getFieldMeta(v);b?e.setFieldMeta(h,b):e.setFieldMeta(h,d())})}const d=()=>le;return{handleArrayMove:r,handleArrayRemove:t,handleArraySwap:n,handleArrayInsert:o}}function tt(e){return{values:e.values??{},errorMap:e.errorMap??{},fieldMetaBase:e.fieldMetaBase??{},isSubmitted:e.isSubmitted??!1,isSubmitting:e.isSubmitting??!1,isValidating:e.isValidating??!1,submissionAttempts:e.submissionAttempts??0,isSubmitSuccessful:e.isSubmitSuccessful??!1,validationMetaMap:e.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}}}class Ot{constructor(r){this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{const t=this.fieldMetaDerived.mount(),n=this.store.mount(),o=this.store.subscribe(()=>{Zn(this)}),i=N.on("request-form-state",u=>{u.payload.id===this._formId&&N.emit("form-api",{id:this._formId,state:this.store.state,options:this.options})}),s=N.on("request-form-reset",u=>{u.payload.id===this._formId&&this.reset()}),c=N.on("request-form-force-submit",u=>{u.payload.id===this._formId&&(this._devtoolsSubmissionOverride=!0,this.handleSubmit(),this._devtoolsSubmissionOverride=!1)}),l=()=>{c(),s(),i(),o(),t(),n(),N.emit("form-unmounted",{id:this._formId})};this.options.listeners?.onMount?.({formApi:this});const{onMount:d}=this.options.validators||{};return N.emit("form-api",{id:this._formId,state:this.store.state,options:this.options}),d&&this.validateSync("mount"),l},this.update=t=>{if(!t)return;const n=this.options;this.options=t;const o=!!t.transform?.deps?.some((c,l)=>c!==this.prevTransformArray[l]),i=t.defaultValues&&!G(t.defaultValues,n.defaultValues)&&!this.state.isTouched,s=!G(t.defaultState,n.defaultState)&&!this.state.isTouched;!i&&!s&&!o||(B(()=>{this.baseStore.setState(()=>tt(Object.assign({},this.state,s?t.defaultState:{},i?{values:t.defaultValues}:{},o?{_force_re_eval:!this.state._force_re_eval}:{})))}),N.emit("form-api",{id:this._formId,state:this.store.state,options:this.options}))},this.reset=(t,n)=>{const{fieldMeta:o}=this.state,i=this.resetFieldMeta(o);t&&!n?.keepDefaultValues&&(this.options={...this.options,defaultValues:t}),this.baseStore.setState(()=>tt({...this.options.defaultState,values:t??this.options.defaultValues??this.options.defaultState?.values,fieldMetaBase:i}))},this.validateAllFields=async t=>{const n=[];return B(()=>{Object.values(this.fieldInfo).forEach(i=>{if(!i.instance)return;const s=i.instance;n.push(Promise.resolve().then(()=>s.validate(t,{skipFormValidation:!0}))),i.instance.state.meta.isTouched||i.instance.setMeta(c=>({...c,isTouched:!0}))})}),(await Promise.all(n)).flat()},this.validateArrayFieldsStartingFrom=async(t,n,o)=>{const i=this.getFieldValue(t),s=Array.isArray(i)?Math.max(i.length-1,0):null,c=[`${t}[${n}]`];for(let f=n+1;f<=(s??0);f++)c.push(`${t}[${f}]`);const l=Object.keys(this.fieldInfo).filter(f=>c.some(m=>f.startsWith(m))),d=[];return B(()=>{l.forEach(f=>{d.push(Promise.resolve().then(()=>this.validateField(f,o)))})}),(await Promise.all(d)).flat()},this.validateField=(t,n)=>{const o=this.fieldInfo[t]?.instance;if(!o){const{hasErrored:i}=this.validateSync(n);return i&&!this.options.asyncAlways?this.getFieldMeta(t)?.errors??[]:this.validateAsync(n).then(()=>this.getFieldMeta(t)?.errors??[])}return o.state.meta.isTouched||o.setMeta(i=>({...i,isTouched:!0})),o.validate(n)},this.validateSync=t=>{const n=ot(t,{...this.options,form:this,validationLogic:this.options.validationLogic||ae});let o=!1;const i={};return B(()=>{for(const l of n){if(!l.validate)continue;const d=this.runValidator({validate:l.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"}),{formError:u,fieldErrors:f}=De(d),m=ve(l.cause),h=new Set([...Object.keys(this.state.fieldMeta),...Object.keys(f||{})]);for(const v of h){if(this.baseStore.state.fieldMetaBase[v]===void 0&&!f?.[v])continue;const b=this.getFieldMeta(v)??le,{errorMap:y,errorSourceMap:g}=b,x=f?.[v],{newErrorValue:M,newSource:j}=Ct({newFormValidatorError:x,isPreviousErrorFromFormValidator:g?.[m]==="form",previousErrorValue:y?.[m]});j==="form"&&(i[v]={...i[v],[m]:x}),y?.[m]!==M&&this.setFieldMeta(v,(F=le)=>({...F,errorMap:{...F.errorMap,[m]:M},errorSourceMap:{...F.errorSourceMap,[m]:j}}))}this.state.errorMap?.[m]!==u&&this.baseStore.setState(v=>({...v,errorMap:{...v.errorMap,[m]:u}})),(u||f)&&(o=!0)}const s=ve("submit");this.state.errorMap?.[s]&&t!=="submit"&&!o&&this.baseStore.setState(l=>({...l,errorMap:{...l.errorMap,[s]:void 0}}));const c=ve("server");this.state.errorMap?.[c]&&t!=="server"&&!o&&this.baseStore.setState(l=>({...l,errorMap:{...l.errorMap,[c]:void 0}}))}),{hasErrored:o,fieldsErrorMap:i}},this.validateAsync=async t=>{const n=it(t,{...this.options,form:this,validationLogic:this.options.validationLogic||ae});this.state.isFormValidating||this.baseStore.setState(l=>({...l,isFormValidating:!0}));const o=[];let i;for(const l of n){if(!l.validate)continue;const d=ve(l.cause);this.state.validationMetaMap[d]?.lastAbortController.abort();const f=new AbortController;this.state.validationMetaMap[d]={lastAbortController:f},o.push(new Promise(async m=>{let h;try{h=await new Promise((g,x)=>{setTimeout(async()=>{if(f.signal.aborted)return g(void 0);try{g(await this.runValidator({validate:l.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:f.signal},type:"validateAsync"}))}catch(M){x(M)}},l.debounceMs)})}catch(g){h=g}const{formError:v,fieldErrors:b}=De(h);b&&(i=i?{...i,...b}:b);const y=ve(l.cause);for(const g of Object.keys(this.state.fieldMeta)){if(this.baseStore.state.fieldMetaBase[g]===void 0)continue;const x=this.getFieldMeta(g);if(!x)continue;const{errorMap:M,errorSourceMap:j}=x,F=i?.[g],{newErrorValue:V,newSource:E}=Ct({newFormValidatorError:F,isPreviousErrorFromFormValidator:j?.[y]==="form",previousErrorValue:M?.[y]});M?.[y]!==V&&this.setFieldMeta(g,P=>({...P,errorMap:{...P.errorMap,[y]:V},errorSourceMap:{...P.errorSourceMap,[y]:E}}))}this.baseStore.setState(g=>({...g,errorMap:{...g.errorMap,[y]:v}})),m(i?{fieldErrors:i,errorMapKey:y}:void 0)}))}let s=[];const c={};if(o.length){s=await Promise.all(o);for(const l of s)if(l?.fieldErrors){const{errorMapKey:d}=l;for(const[u,f]of Object.entries(l.fieldErrors)){const h={...c[u]||{},[d]:f};c[u]=h}}}return this.baseStore.setState(l=>({...l,isFormValidating:!1})),c},this.validate=t=>{const{hasErrored:n,fieldsErrorMap:o}=this.validateSync(t);return n&&!this.options.asyncAlways?o:this.validateAsync(t)},this._handleSubmit=async t=>{this.baseStore.setState(i=>({...i,isSubmitted:!1,submissionAttempts:i.submissionAttempts+1,isSubmitSuccessful:!1})),B(()=>{Object.values(this.fieldInfo).forEach(i=>{i.instance&&(i.instance.state.meta.isTouched||i.instance.setMeta(s=>({...s,isTouched:!0})))})});const n=t??this.options.onSubmitMeta;if(!this.state.canSubmit&&!this._devtoolsSubmissionOverride){this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:n});return}this.baseStore.setState(i=>({...i,isSubmitting:!0}));const o=()=>{this.baseStore.setState(i=>({...i,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){o(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:n}),N.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validateAllFields",errors:Object.values(this.state.fieldMeta).map(i=>i.errors).flat()});return}if(await this.validate("submit"),!this.state.isValid){o(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:n}),N.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validate",errors:this.state.errors});return}B(()=>{Object.values(this.fieldInfo).forEach(i=>{i.instance?.options.listeners?.onSubmit?.({value:i.instance.state.value,fieldApi:i.instance})})}),this.options.listeners?.onSubmit?.({formApi:this,meta:n});try{await this.options.onSubmit?.({value:this.state.values,formApi:this,meta:n}),B(()=>{this.baseStore.setState(i=>({...i,isSubmitted:!0,isSubmitSuccessful:!0})),N.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!0}),o()})}catch(i){throw this.baseStore.setState(s=>({...s,isSubmitSuccessful:!1})),N.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"inflight",onError:i}),o(),i}},this.getFieldValue=t=>se(this.state.values,t),this.getFieldMeta=t=>this.state.fieldMeta[t],this.getFieldInfo=t=>this.fieldInfo[t]||={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}},this.setFieldMeta=(t,n)=>{this.baseStore.setState(o=>({...o,fieldMetaBase:{...o.fieldMetaBase,[t]:Ee(n,o.fieldMetaBase[t])}}))},this.resetFieldMeta=t=>Object.keys(t).reduce((n,o)=>{const i=o;return n[i]=le,n},{}),this.setFieldValue=(t,n,o)=>{const i=o?.dontUpdateMeta??!1,s=o?.dontRunListeners??!1,c=o?.dontValidate??!1;B(()=>{i||this.setFieldMeta(t,l=>({...l,isTouched:!0,isDirty:!0,errorMap:{...l?.errorMap,onMount:void 0}})),this.baseStore.setState(l=>({...l,values:Oe(l.values,t,n)}))}),s||this.getFieldInfo(t).instance?.triggerOnChangeListener(),c||this.validateField(t,"change")},this.deleteField=t=>{const o=[...Object.keys(this.fieldInfo).filter(i=>{const s=t.toString();return i!==s&&i.startsWith(s)}),t];this.baseStore.setState(i=>{const s={...i};return o.forEach(c=>{s.values=Wn(s.values,c),delete this.fieldInfo[c],delete s.fieldMetaBase[c]}),s})},this.pushFieldValue=(t,n,o)=>{this.setFieldValue(t,i=>[...Array.isArray(i)?i:[],n],o)},this.insertFieldValue=async(t,n,o,i)=>{this.setFieldValue(t,c=>[...c.slice(0,n),o,...c.slice(n)],I(i,{dontValidate:!0}));const s=i?.dontValidate??!1;s||await this.validateField(t,"change"),Ie(this).handleArrayInsert(t,n),s||await this.validateArrayFieldsStartingFrom(t,n,"change")},this.replaceFieldValue=async(t,n,o,i)=>{this.setFieldValue(t,c=>c.map((l,d)=>d===n?o:l),I(i,{dontValidate:!0})),(i?.dontValidate??!1)||(await this.validateField(t,"change"),await this.validateArrayFieldsStartingFrom(t,n,"change"))},this.removeFieldValue=async(t,n,o)=>{const i=this.getFieldValue(t),s=Array.isArray(i)?Math.max(i.length-1,0):null;if(this.setFieldValue(t,l=>l.filter((d,u)=>u!==n),I(o,{dontValidate:!0})),Ie(this).handleArrayRemove(t,n),s!==null){const l=`${t}[${s}]`;this.deleteField(l)}(o?.dontValidate??!1)||(await this.validateField(t,"change"),await this.validateArrayFieldsStartingFrom(t,n,"change"))},this.swapFieldValues=(t,n,o,i)=>{this.setFieldValue(t,c=>{const l=c[n],d=c[o];return Oe(Oe(c,`${n}`,d),`${o}`,l)},I(i,{dontValidate:!0})),Ie(this).handleArraySwap(t,n,o),(i?.dontValidate??!1)||(this.validateField(t,"change"),this.validateField(`${t}[${n}]`,"change"),this.validateField(`${t}[${o}]`,"change"))},this.moveFieldValues=(t,n,o,i)=>{this.setFieldValue(t,c=>{const l=[...c];return l.splice(o,0,l.splice(n,1)[0]),l},I(i,{dontValidate:!0})),Ie(this).handleArrayMove(t,n,o),(i?.dontValidate??!1)||(this.validateField(t,"change"),this.validateField(`${t}[${n}]`,"change"),this.validateField(`${t}[${o}]`,"change"))},this.clearFieldValues=(t,n)=>{const o=this.getFieldValue(t),i=Array.isArray(o)?Math.max(o.length-1,0):null;if(this.setFieldValue(t,[],I(n,{dontValidate:!0})),i!==null)for(let c=0;c<=i;c++){const l=`${t}[${c}]`;this.deleteField(l)}(n?.dontValidate??!1)||this.validateField(t,"change")},this.resetField=t=>{this.baseStore.setState(n=>({...n,fieldMetaBase:{...n.fieldMetaBase,[t]:le},values:this.options.defaultValues?Oe(n.values,t,se(this.options.defaultValues,t)):n.values}))},this.setErrorMap=t=>{B(()=>{Object.entries(t).forEach(([n,o])=>{const i=n;if(st(o)){const{formError:s,fieldErrors:c}=De(o);for(const l of Object.keys(this.fieldInfo))this.getFieldMeta(l)&&this.setFieldMeta(l,u=>({...u,errorMap:{...u.errorMap,[i]:c?.[l]},errorSourceMap:{...u.errorSourceMap,[i]:"form"}}));this.baseStore.setState(l=>({...l,errorMap:{...l.errorMap,[i]:s}}))}else this.baseStore.setState(s=>({...s,errorMap:{...s.errorMap,[i]:o}}))})})},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((t,[n,o])=>(Object.keys(o).length&&o.errors.length&&(t[n]={errors:o.errors,errorMap:o.errorMap}),t),{})}),this.parseValuesWithSchema=t=>ue.validate({value:this.state.values,validationSource:"form"},t),this.parseValuesWithSchemaAsync=t=>ue.validateAsync({value:this.state.values,validationSource:"form"},t),this.timeoutIds={validations:{},listeners:{},formListeners:{}},this._formId=r?.formId??pr(),this._devtoolsSubmissionOverride=!1,this.baseStore=new rt(tt({...r?.defaultState,values:r?.defaultValues??r?.defaultState?.values})),this.fieldMetaDerived=new H({deps:[this.baseStore],fn:({prevDepVals:t,currDepVals:n,prevVal:o})=>{const i=o,s=t?.[0],c=n[0];let l=0;const d={};for(const u of Object.keys(c.fieldMetaBase)){const f=c.fieldMetaBase[u],m=s?.fieldMetaBase[u],h=i?.[u],v=se(c.values,u);let b=h?.errors;if(!m||f.errorMap!==m.errorMap){b=Object.values(f.errorMap??{}).filter(j=>j!==void 0);const M=this.getFieldInfo(u)?.instance;(!M||!M.options.disableErrorFlat)&&(b=b.flat(1))}const y=!Yn(b),g=!f.isDirty,x=G(v,se(this.options.defaultValues,u))||G(v,this.getFieldInfo(u)?.instance?.options.defaultValue);if(h&&h.isPristine===g&&h.isValid===y&&h.isDefaultValue===x&&h.errors===b&&f===m){d[u]=h,l++;continue}d[u]={...f,errors:b??[],isPristine:g,isValid:y,isDefaultValue:x}}return Object.keys(c.fieldMetaBase).length&&i&&l===Object.keys(c.fieldMetaBase).length?i:d}}),this.store=new H({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals:t,currDepVals:n,prevVal:o})=>{const i=o,s=t?.[0],c=n[0],l=n[1],d=Object.values(l).filter(Boolean),u=d.some(S=>S.isValidating),f=d.every(S=>S.isValid),m=d.some(S=>S.isTouched),h=d.some(S=>S.isBlurred),v=d.every(S=>S.isDefaultValue),b=m&&c.errorMap?.onMount,y=d.some(S=>S.isDirty),g=!y,x=!!(c.errorMap?.onMount||d.some(S=>S?.errorMap?.onMount)),M=!!u;let j=i?.errors??[];(!s||c.errorMap!==s.errorMap)&&(j=Object.values(c.errorMap).reduce((S,T)=>T===void 0?S:T&&st(T)?(S.push(T.form),S):(S.push(T),S),[]));const F=j.length===0,V=f&&F,E=this.options.canSubmitWhenInvalid??!1,P=c.submissionAttempts===0&&!m&&!x||!M&&!c.isSubmitting&&V||E;let w=c.errorMap;if(b&&(j=j.filter(S=>S!==c.errorMap.onMount),w=Object.assign(w,{onMount:void 0})),i&&s&&i.errorMap===w&&i.fieldMeta===this.fieldMetaDerived.state&&i.errors===j&&i.isFieldsValidating===u&&i.isFieldsValid===f&&i.isFormValid===F&&i.isValid===V&&i.canSubmit===P&&i.isTouched===m&&i.isBlurred===h&&i.isPristine===g&&i.isDefaultValue===v&&i.isDirty===y&&G(s,c))return i;let C={...c,errorMap:w,fieldMeta:this.fieldMetaDerived.state,errors:j,isFieldsValidating:u,isFieldsValid:f,isFormValid:F,isValid:V,canSubmit:P,isTouched:m,isBlurred:h,isPristine:g,isDefaultValue:v,isDirty:y};const O=this.options.transform?.deps??[];if(O.length!==this.prevTransformArray.length||O.some((S,T)=>S!==this.prevTransformArray[T])){const S=Object.assign({},this,{state:C});this.options.transform?.fn(S),C=S.state,this.prevTransformArray=O}return C}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(r||{})}get state(){return this.store.state}get formId(){return this._formId}runValidator(r){return vr(r.validate)?ue[r.type](r.value,r.validate):r.validate(r.value)}handleSubmit(r){return this._handleSubmit(r)}}function De(e){if(e){if(st(e)){const r=De(e.form).formError,t=e.fields;return{formError:r,fieldErrors:t}}return{formError:e}}return{formError:void 0}}function ve(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";default:return"onChange"}}class Tt{constructor(r){this.options={},this.mount=()=>{const t=this.store.mount();this.options.defaultValue!==void 0&&!this.getMeta().isTouched&&this.form.setFieldValue(this.name,this.options.defaultValue,{dontUpdateMeta:!0});const n=this.getInfo();n.instance=this,this.update(this.options);const{onMount:o}=this.options.validators||{};if(o){const i=this.runValidator({validate:o,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});i&&this.setMeta(s=>({...s,errorMap:{...s?.errorMap,onMount:i},errorSourceMap:{...s?.errorSourceMap,onMount:"field"}}))}return this.options.listeners?.onMount?.({value:this.state.value,fieldApi:this}),t},this.update=t=>{if(this.options=t,this.name=t.name,!this.state.meta.isTouched&&this.options.defaultValue!==void 0){const n=this.form.getFieldValue(this.name);G(n,t.defaultValue)||this.form.setFieldValue(this.name,t.defaultValue,{dontUpdateMeta:!0,dontValidate:!0,dontRunListeners:!0})}this.form.getFieldMeta(this.name)||this.form.setFieldMeta(this.name,this.state.meta)},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(t,n)=>{this.form.setFieldValue(this.name,t,I(n,{dontRunListeners:!0,dontValidate:!0})),n?.dontRunListeners||this.triggerOnChangeListener(),n?.dontValidate||this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=t=>this.form.setFieldMeta(this.name,t),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(t,n)=>{this.form.pushFieldValue(this.name,t,I(n,{dontRunListeners:!0})),n?.dontRunListeners||this.triggerOnChangeListener()},this.insertValue=(t,n,o)=>{this.form.insertFieldValue(this.name,t,n,I(o,{dontRunListeners:!0})),o?.dontRunListeners||this.triggerOnChangeListener()},this.replaceValue=(t,n,o)=>{this.form.replaceFieldValue(this.name,t,n,I(o,{dontRunListeners:!0})),o?.dontRunListeners||this.triggerOnChangeListener()},this.removeValue=(t,n)=>{this.form.removeFieldValue(this.name,t,I(n,{dontRunListeners:!0})),n?.dontRunListeners||this.triggerOnChangeListener()},this.swapValues=(t,n,o)=>{this.form.swapFieldValues(this.name,t,n,I(o,{dontRunListeners:!0})),o?.dontRunListeners||this.triggerOnChangeListener()},this.moveValue=(t,n,o)=>{this.form.moveFieldValues(this.name,t,n,I(o,{dontRunListeners:!0})),o?.dontRunListeners||this.triggerOnChangeListener()},this.clearValues=t=>{this.form.clearFieldValues(this.name,I(t,{dontRunListeners:!0})),t?.dontRunListeners||this.triggerOnChangeListener()},this.getLinkedFields=t=>{const n=Object.values(this.form.fieldInfo),o=[];for(const i of n){if(!i.instance)continue;const{onChangeListenTo:s,onBlurListenTo:c}=i.instance.options.validators||{};t==="change"&&s?.includes(this.name)&&o.push(i.instance),t==="blur"&&c?.includes(this.name)&&o.push(i.instance)}return o},this.validateSync=(t,n)=>{const o=ot(t,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||ae}),s=this.getLinkedFields(t).reduce((d,u)=>{const f=ot(t,{...u.options,form:u.form,validationLogic:u.form.options.validationLogic||ae});return f.forEach(m=>{m.field=u}),d.concat(f)},[]);let c=!1;B(()=>{const d=(u,f)=>{const m=Le(f.cause),h=f.validate?kt(u.runValidator({validate:f.validate,value:{value:u.store.state.value,validationSource:"field",fieldApi:u},type:"validate"})):void 0,v=n[m],{newErrorValue:b,newSource:y}=At({formLevelError:v,fieldLevelError:h});u.state.meta.errorMap?.[m]!==b&&u.setMeta(g=>({...g,errorMap:{...g.errorMap,[m]:b},errorSourceMap:{...g.errorSourceMap,[m]:y}})),b&&(c=!0)};for(const u of o)d(this,u);for(const u of s)u.validate&&d(u.field,u)});const l=Le("submit");return this.state.meta.errorMap?.[l]&&t!=="submit"&&!c&&this.setMeta(d=>({...d,errorMap:{...d.errorMap,[l]:void 0},errorSourceMap:{...d.errorSourceMap,[l]:void 0}})),{hasErrored:c}},this.validateAsync=async(t,n)=>{const o=it(t,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||ae}),i=await n,s=this.getLinkedFields(t),c=s.reduce((h,v)=>{const b=it(t,{...v.options,form:v.form,validationLogic:v.form.options.validationLogic||ae});return b.forEach(y=>{y.field=v}),h.concat(b)},[]),l=[],d=[],u=o.some(h=>h.validate)||c.some(h=>h.validate);if(u){this.state.meta.isValidating||this.setMeta(h=>({...h,isValidating:!0}));for(const h of s)h.setMeta(v=>({...v,isValidating:!0}))}const f=(h,v,b)=>{const y=Le(v.cause);h.getInfo().validationMetaMap[y]?.lastAbortController.abort();const x=new AbortController;this.getInfo().validationMetaMap[y]={lastAbortController:x},b.push(new Promise(async M=>{let j;try{j=await new Promise((w,C)=>{this.timeoutIds.validations[v.cause]&&clearTimeout(this.timeoutIds.validations[v.cause]),this.timeoutIds.validations[v.cause]=setTimeout(async()=>{if(x.signal.aborted)return w(void 0);try{w(await this.runValidator({validate:v.validate,value:{value:h.store.state.value,fieldApi:h,signal:x.signal,validationSource:"field"},type:"validateAsync"}))}catch(O){C(O)}},v.debounceMs)})}catch(w){j=w}if(x.signal.aborted)return M(void 0);const F=kt(j),V=i[this.name]?.[y],{newErrorValue:E,newSource:P}=At({formLevelError:V,fieldLevelError:F});h.setMeta(w=>({...w,errorMap:{...w?.errorMap,[y]:E},errorSourceMap:{...w.errorSourceMap,[y]:P}})),M(E)}))};for(const h of o)h.validate&&f(this,h,l);for(const h of c)h.validate&&f(h.field,h,d);let m=[];if((l.length||d.length)&&(m=await Promise.all(l),await Promise.all(d)),u){this.setMeta(h=>({...h,isValidating:!1}));for(const h of s)h.setMeta(v=>({...v,isValidating:!1}))}return m.filter(Boolean)},this.validate=(t,n)=>{if(!this.state.meta.isTouched)return[];const{fieldsErrorMap:o}=n?.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(t),{hasErrored:i}=this.validateSync(t,o[this.name]??{});if(i&&!this.options.asyncAlways)return this.getInfo().validationMetaMap[Le(t)]?.lastAbortController.abort(),this.state.meta.errors;const s=n?.skipFormValidation?Promise.resolve({}):this.form.validateAsync(t);return this.validateAsync(t,s)},this.handleChange=t=>{this.setValue(t)},this.handleBlur=()=>{this.state.meta.isTouched||this.setMeta(n=>({...n,isTouched:!0})),this.state.meta.isBlurred||this.setMeta(n=>({...n,isBlurred:!0})),this.validate("blur"),this.triggerOnBlurListener()},this.setErrorMap=t=>{this.setMeta(n=>({...n,errorMap:{...n.errorMap,...t}}))},this.parseValueWithSchema=t=>ue.validate({value:this.state.value,validationSource:"field"},t),this.parseValueWithSchemaAsync=t=>ue.validateAsync({value:this.state.value,validationSource:"field"},t),this.triggerOnChangeListener=()=>{const t=this.form.options.listeners?.onChangeDebounceMs;t&&t>0?(this.timeoutIds.formListeners.change&&clearTimeout(this.timeoutIds.formListeners.change),this.timeoutIds.formListeners.change=setTimeout(()=>{this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this})},t)):this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this});const n=this.options.listeners?.onChangeDebounceMs;n&&n>0?(this.timeoutIds.listeners.change&&clearTimeout(this.timeoutIds.listeners.change),this.timeoutIds.listeners.change=setTimeout(()=>{this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},n)):this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},this.form=r.form,this.name=r.name,this.options=r,this.timeoutIds={validations:{},listeners:{},formListeners:{}},this.store=new H({deps:[this.form.store],fn:({prevVal:t})=>{const n=t,o=this.form.getFieldMeta(this.name)??{...le,...r.defaultMeta};let i=this.form.getFieldValue(this.name);return!o.isTouched&&i===void 0&&this.options.defaultValue!==void 0&&!G(i,this.options.defaultValue)&&(i=this.options.defaultValue),n&&n.value===i&&n.meta===o?n:{value:i,meta:o}}})}get state(){return this.store.state}runValidator(r){return vr(r.validate)?ue[r.type](r.value,r.validate):r.validate(r.value)}triggerOnBlurListener(){const r=this.form.options.listeners?.onBlurDebounceMs;r&&r>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this})},r)):this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this});const t=this.options.listeners?.onBlurDebounceMs;t&&t>0?(this.timeoutIds.listeners.blur&&clearTimeout(this.timeoutIds.listeners.blur),this.timeoutIds.listeners.blur=setTimeout(()=>{this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})},t)):this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})}}function kt(e){if(e)return e}function Le(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";default:return"onChange"}}class Ue{constructor(r){if(this.getFormFieldName=t=>{if(typeof this.fieldsMap=="string")return Vt(this.fieldsMap,t);const n=Ze(t)[0];if(typeof n!="string")return"";const o=t.slice(n.length),i=this.fieldsMap[n];return Vt(i,o)},this.getFormFieldOptions=t=>{const n={...t},o=n.validators;if(n.name=this.getFormFieldName(t.name),o&&(o.onChangeListenTo||o.onBlurListenTo)){const i={...o},s=c=>{if(c)return c.map(l=>this.getFormFieldName(l))};i.onChangeListenTo=s(o.onChangeListenTo),i.onBlurListenTo=s(o.onBlurListenTo),n.validators=i}return n},this.mount=()=>this.store.mount(),this.validateArrayFieldsStartingFrom=async(t,n,o)=>this.form.validateArrayFieldsStartingFrom(this.getFormFieldName(t),n,o),this.validateField=(t,n)=>this.form.validateField(this.getFormFieldName(t),n),this.getFieldValue=t=>this.form.getFieldValue(this.getFormFieldName(t)),this.getFieldMeta=t=>this.form.getFieldMeta(this.getFormFieldName(t)),this.setFieldMeta=(t,n)=>this.form.setFieldMeta(this.getFormFieldName(t),n),this.setFieldValue=(t,n,o)=>this.form.setFieldValue(this.getFormFieldName(t),n,o),this.deleteField=t=>this.form.deleteField(this.getFormFieldName(t)),this.pushFieldValue=(t,n,o)=>this.form.pushFieldValue(this.getFormFieldName(t),n,o),this.insertFieldValue=async(t,n,o,i)=>this.form.insertFieldValue(this.getFormFieldName(t),n,o,i),this.replaceFieldValue=async(t,n,o,i)=>this.form.replaceFieldValue(this.getFormFieldName(t),n,o,i),this.removeFieldValue=async(t,n,o)=>this.form.removeFieldValue(this.getFormFieldName(t),n,o),this.swapFieldValues=(t,n,o,i)=>this.form.swapFieldValues(this.getFormFieldName(t),n,o,i),this.moveFieldValues=(t,n,o,i)=>this.form.moveFieldValues(this.getFormFieldName(t),n,o,i),this.clearFieldValues=(t,n)=>this.form.clearFieldValues(this.getFormFieldName(t),n),this.resetField=t=>this.form.resetField(this.getFormFieldName(t)),this.validateAllFields=t=>this.form.validateAllFields(t),r.form instanceof Ue){const t=r.form;if(this.form=t.form,typeof r.fields=="string")this.fieldsMap=t.getFormFieldName(r.fields);else{const n={...r.fields};for(const o in n)n[o]=t.getFormFieldName(n[o]);this.fieldsMap=n}}else this.form=r.form,this.fieldsMap=r.fields;this.store=new H({deps:[this.form.store],fn:({currDepVals:t})=>{const n=t[0];let o;if(typeof this.fieldsMap=="string")o=se(n.values,this.fieldsMap);else{o={};const i=this.fieldsMap;for(const s in i)o[s]=se(n.values,i[s])}return{values:o}}})}get state(){return this.store.state}async handleSubmit(r){return this.form.handleSubmit(r)}}function Jn({className:e,...r}){return a.jsx(gn,{"data-slot":"label",className:A("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}function gr({className:e,orientation:r="horizontal",decorative:t=!0,...n}){return a.jsx(Nn,{"data-slot":"separator",decorative:t,orientation:r,className:A("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}const eo=dt("group/field flex w-full gap-3 data-[invalid=true]:text-destructive",{variants:{orientation:{vertical:["flex-col [&>*]:w-full [&>.sr-only]:w-auto"],horizontal:["flex-row items-center","[&>[data-slot=field-label]]:flex-auto","has-[>[data-slot=field-content]]:items-start has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"],responsive:["flex-col [&>*]:w-full [&>.sr-only]:w-auto @md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto","@md/field-group:[&>[data-slot=field-label]]:flex-auto","@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"]}},defaultVariants:{orientation:"vertical"}});function to({className:e,orientation:r="vertical",...t}){return a.jsx("div",{role:"group","data-slot":"field","data-orientation":r,className:A(eo({orientation:r}),e),...t})}function ro({className:e,...r}){return a.jsx(Jn,{"data-slot":"field-label",className:A("group/field-label peer/field-label flex w-fit gap-2 leading-snug group-data-[disabled=true]/field:opacity-50","has-[>[data-slot=field]]:w-full has-[>[data-slot=field]]:flex-col has-[>[data-slot=field]]:rounded-md has-[>[data-slot=field]]:border [&>*]:data-[slot=field]:p-4","has-data-[state=checked]:bg-primary/5 has-data-[state=checked]:border-primary dark:has-data-[state=checked]:bg-primary/10",e),...r})}function no({className:e,...r}){return a.jsx("p",{"data-slot":"field-description",className:A("text-muted-foreground text-sm leading-normal font-normal group-has-[[data-orientation=horizontal]]/field:text-balance","last:mt-0 nth-last-2:-mt-1 [[data-variant=legend]+&]:-mt-1.5","[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4",e),...r})}const oo=dt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",xs:"h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-xs":"size-6 rounded-md [&_svg:not([class*='size-'])]:size-3","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function io({className:e,variant:r="default",size:t="default",asChild:n=!1,...o}){const i=n?en:"button";return a.jsx(i,{"data-slot":"button","data-variant":r,"data-size":t,className:A(oo({variant:r,size:t,className:e})),...o})}function br({className:e,type:r,...t}){return a.jsx("input",{type:r,"data-slot":"input",className:A("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...t})}function so({className:e,...r}){return a.jsx("div",{"data-slot":"input-group",role:"group",className:A("group/input-group border-input dark:bg-input/30 relative flex w-full items-center rounded-md border shadow-xs transition-[color,box-shadow] outline-none","h-9 min-w-0 has-[>textarea]:h-auto","has-[>[data-align=inline-start]]:[&>input]:pl-2","has-[>[data-align=inline-end]]:[&>input]:pr-2","has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-start]]:[&>input]:pb-3","has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3","has-[[data-slot=input-group-control]:focus-visible]:border-ring has-[[data-slot=input-group-control]:focus-visible]:ring-ring/50 has-[[data-slot=input-group-control]:focus-visible]:ring-[3px]","has-[[data-slot][aria-invalid=true]]:ring-destructive/20 has-[[data-slot][aria-invalid=true]]:border-destructive dark:has-[[data-slot][aria-invalid=true]]:ring-destructive/40",e),...r})}const ao=dt("text-muted-foreground flex h-auto cursor-text items-center justify-center gap-2 py-1.5 text-sm font-medium select-none [&>svg:not([class*='size-'])]:size-4 [&>kbd]:rounded-[calc(var(--radius)-5px)] group-data-[disabled=true]/input-group:opacity-50",{variants:{align:{"inline-start":"order-first pl-3 has-[>button]:ml-[-0.45rem] has-[>kbd]:ml-[-0.35rem]","inline-end":"order-last pr-3 has-[>button]:mr-[-0.45rem] has-[>kbd]:mr-[-0.35rem]","block-start":"order-first w-full justify-start px-3 pt-3 [.border-b]:pb-3 group-has-[>input]/input-group:pt-2.5","block-end":"order-last w-full justify-start px-3 pb-3 [.border-t]:pt-3 group-has-[>input]/input-group:pb-2.5"}},defaultVariants:{align:"inline-start"}});function Z({className:e,align:r="inline-start",...t}){return a.jsx("div",{role:"group","data-slot":"input-group-addon","data-align":r,className:A(ao({align:r}),e),onClick:n=>{n.target.closest("button")||n.currentTarget.parentElement?.querySelector("input")?.focus()},...t})}function lo({className:e,...r}){return a.jsx(br,{"data-slot":"input-group-control",className:A("flex-1 rounded-none border-0 bg-transparent shadow-none focus-visible:ring-0 dark:bg-transparent",e),...r})}const Ve=p.forwardRef(({fieldProps:e,labelProps:r,descriptionProps:t,label:n,description:o,inputProps:i,children:s},c)=>{const l=zo();return a.jsxs(to,{...e,children:[n&&a.jsx(ro,{htmlFor:l.name,...r,children:n}),s({id:l.name,value:l.state.value,onChange:d=>{if(i?.type==="number"){const u=parseFloat(d);l.handleChange(isNaN(u)?"":u)}else l.handleChange(d)},onBlur:l.handleBlur,ref:c}),o&&a.jsx(no,{...t,children:o})]})});Ve.displayName="TextFieldBase";const yr=p.forwardRef(({fieldProps:e,labelProps:r,inputProps:t,descriptionProps:n,label:o,description:i,addon:s},c)=>a.jsx(Ve,{fieldProps:e,labelProps:r,descriptionProps:n,inputProps:t,label:o,description:i,ref:c,children:({id:l,value:d,onChange:u,onBlur:f,ref:m})=>a.jsxs(so,{children:[a.jsx(lo,{ref:m,id:l,value:d,onChange:h=>u(h.target.value),onBlur:f,...t}),s&&s]})}));yr.displayName="InputGroupText";function It(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function co(e,r,t){return r=Ke(r),(function(n,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i})(n)})(e,Sr()?Reflect.construct(r,t||[],Ke(e).constructor):r.apply(e,t))}function uo(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fo(e,r,t){return Object.defineProperty(e,"prototype",{writable:!1}),e}function xr(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=(function(l,d){if(l){if(typeof l=="string")return It(l,d);var u={}.toString.call(l).slice(8,-1);return u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set"?Array.from(l):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?It(l,d):void 0}})(e))||r){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return s=l.done,l},e:function(l){c=!0,i=l},f:function(){try{s||t.return==null||t.return()}finally{if(c)throw i}}}}function wr(e,r,t){return(r=(function(n){var o=(function(i,s){if(typeof i!="object"||!i)return i;var c=i[Symbol.toPrimitive];if(c!==void 0){var l=c.call(i,s);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)})(n,"string");return typeof o=="symbol"?o:o+""})(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ge.apply(null,arguments)}function Ke(e){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ke(e)}function ho(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&at(e,r)}function Sr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(Sr=function(){return!!e})()}function Lt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,n)}return t}function Ne(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Lt(Object(t),!0).forEach((function(n){wr(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Lt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Fr(e,r){if(e==null)return{};var t,n,o=(function(s,c){if(s==null)return{};var l={};for(var d in s)if({}.hasOwnProperty.call(s,d)){if(c.includes(d))continue;l[d]=s[d]}return l})(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function at(e,r){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},at(e,r)}function xe(e,r){var t,n=r.replacementChars,o=r.replacement,i=r.separate,s=n,c="",l=xr(e);try{for(l.s();!(t=l.n()).done;){var d,u=t.value,f=!Object.prototype.hasOwnProperty.call(o,u)&&((d=o[s[0]])===null||d===void 0?void 0:d.test(u));(i&&u===s[0]||f)&&(s=s.slice(1),c+=u)}}catch(m){l.e(m)}finally{l.f()}return c}function Mr(e,r){var t,n=r.mask,o=r.replacement,i=r.separate,s=r.showMask,c=0,l="",d=xr(n);try{for(d.s();!(t=d.n()).done;){var u=t.value;if(!s&&e[c]===void 0)break;Object.prototype.hasOwnProperty.call(o,u)&&e[c]!==void 0?l+=e[c++]:l+=u}}catch(m){d.e(m)}finally{d.f()}if(i&&!s){for(var f=n.length-1;f>=0&&l[f]===n[f];f--);l=l.slice(0,f+1)}return l}function jr(e,r){for(var t=r.mask,n=r.replacement,o=[],i=0;i<t.length;i++){var s,c=(s=e[i])!==null&&s!==void 0?s:t[i],l=Object.prototype.hasOwnProperty.call(n,c)?"replacement":e[i]!==void 0&&e[i]!==t[i]?"input":"mask";o.push({type:l,value:c,index:i})}return o}function fe(e){return e.length>0?wr({},e,/./):{}}function lt(e,r){for(var t=r.start,n=t===void 0?0:t,o=r.end,i=r.mask,s=r.replacement,c=r.separate,l=e.slice(n,o),d=i.slice(n,o),u="",f=0;f<d.length;f++){var m=Object.prototype.hasOwnProperty.call(s,d[f]);m&&l[f]!==void 0&&l[f]!==d[f]?u+=l[f]:m&&c&&(u+=d[f])}return u}function Er(e,r){var t=r.mask,n=r.replacement,o=typeof n=="string"?fe(n):n,i=RegExp("[^".concat(Object.keys(o).join(""),"]"),"g");return Mr(xe(e,{replacementChars:t.replace(i,""),replacement:o,separate:!1}),{mask:t,replacement:o,separate:!1,showMask:!1})}function mo(e,r){var t=r.mask,n=r.replacement,o=typeof n=="string"?fe(n):n,i=lt(e,{mask:t,replacement:o,separate:!1}),s=RegExp("[^".concat(Object.keys(o).join(""),"]"),"g");return xe(i,{replacementChars:t.replace(s,""),replacement:o,separate:!1})}function po(e,r){var t=r.mask,n=r.replacement,o=typeof n=="string"?fe(n):n;return jr(Er(e,{mask:t,replacement:o}),{mask:t,replacement:o})}var vo=["[","]","\\","/","^","$",".","|","?","*","+","(",")","{","}"];function Nt(e){return vo.includes(e)?"\\".concat(e):e}function go(e,r){for(var t=r.mask,n=r.replacement,o=typeof n=="string"?fe(n):n,i=e==="partial"||e==="partial-inexact",s=e==="full"||e==="partial",c="",l=0;l<t.length;l++){var d=t[l];l===0&&(c="^"),i&&(c+="("),c+=Object.prototype.hasOwnProperty.call(o,d)?"".concat(s?"(?!".concat(Nt(d),")"):"","(").concat(o[d].source,")"):Nt(d),l===t.length-1&&(i&&(c+=")?".repeat(t.length)),c+="$")}return c}function bo(e,r){return new Proxy(e,{set:function(t,n,o){return n==="current"&&(o!==e.current&&(e.current!==null&&r.unregister(e.current),o!==null&&r.register(o)),t[n]=o,!0)}})}function yo(e,r,t){return r=Se(r),(function(n,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i})(n)})(e,bt()?Reflect.construct(r,t||[],Se(e).constructor):r.apply(e,t))}function Vr(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Cr(e,r,t){return Object.defineProperty(e,"prototype",{writable:!1}),e}function xo(e,r,t){return(r=(function(n){var o=(function(i,s){if(typeof i!="object"||!i)return i;var c=i[Symbol.toPrimitive];if(c!==void 0){var l=c.call(i,s);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)})(n,"string");return typeof o=="symbol"?o:o+""})(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Se(e){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Se(e)}function wo(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Fe(e,r)}function bt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(bt=function(){return!!e})()}function Rt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,n)}return t}function _t(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Rt(Object(t),!0).forEach((function(n){xo(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function So(e,r){if(e==null)return{};var t,n,o=(function(s,c){if(s==null)return{};var l={};for(var d in s)if({}.hasOwnProperty.call(s,d)){if(c.includes(d))continue;l[d]=s[d]}return l})(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function Fe(e,r){return Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Fe(e,r)}function ct(e){return ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ct(e)}function ut(e){var r=typeof Map=="function"?new Map:void 0;return ut=function(t){if(t===null||!(function(o){try{return Function.toString.call(o).indexOf("[native code]")!==-1}catch{return typeof o=="function"}})(t))return t;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(t))return r.get(t);r.set(t,n)}function n(){return(function(o,i,s){if(bt())return Reflect.construct.apply(null,arguments);var c=[null];c.push.apply(c,i);var l=new(o.bind.apply(o,c));return s&&Fe(l,s.prototype),l})(t,arguments,Se(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Fe(n,t)},ut(e)}var we=(function(e){function r(t){var n;return Vr(this,r),(n=yo(this,r,[t])).name="SyntheticChangeError",n}return wo(r,e),Cr(r)})(ut(Error)),Dt,Fo=["options"],Mo=["text","email","tel","search","url"],Ar=Cr((function e(r){var t=r.init,n=r.tracking;Vr(this,e);var o=new WeakMap;this.register=function(i){var s;if(Mo.includes(i.type)){var c=(s=i._wrapperState)!==null&&s!==void 0?s:{},l=c.initialValue,d=l===void 0?"":l,u=c.controlled,f=u!==void 0&&u,m=t({initialValue:i.value||d,controlled:f}),h=m.value,v=m.options,b={value:h,options:v,fallbackOptions:v},y={id:-1,cachedId:-1},g={value:"",selectionStart:0,selectionEnd:0},x=Object.getOwnPropertyDescriptor("_valueTracker"in i?i:HTMLInputElement.prototype,"value");Object.defineProperty(i,"value",_t(_t({},x),{},{set:function(V){var E;g.value=V,x==null||(E=x.set)===null||E===void 0||E.call(i,V)}})),i.value=h;var M=function(){var V=function(){var E,P;g.selectionStart=(E=i.selectionStart)!==null&&E!==void 0?E:0,g.selectionEnd=(P=i.selectionEnd)!==null&&P!==void 0?P:0,y.id=window.setTimeout(V)};y.id=window.setTimeout(V)},j=function(){window.clearTimeout(y.id),y.id=-1,y.cachedId=-1},F=function(V){try{var E,P;if(y.cachedId===y.id)throw new we("The input selection has not been updated.");y.cachedId=y.id;var w=i.value,C=i.selectionStart,O=i.selectionEnd;if(C===null||O===null)throw new we("The selection attributes have not been initialized.");var L,S=g.value;if(V.inputType===void 0&&(g.selectionStart=0,g.selectionEnd=S.length),C>g.selectionStart?L="insert":C<=g.selectionStart&&C<g.selectionEnd?L="deleteBackward":C===g.selectionEnd&&w.length<S.length&&(L="deleteForward"),L===void 0||(L==="deleteBackward"||L==="deleteForward")&&w.length>S.length)throw new we("Input type detection error.");var T="",ee=g.selectionStart,te=g.selectionEnd;if(L==="insert")T=w.slice(g.selectionStart,C);else{var me=S.length-w.length;ee=C,te=C+me}b.value!==S?b.options=b.fallbackOptions:b.fallbackOptions=b.options;var pe=b.options,re=n({inputType:L,previousValue:S,previousOptions:pe,value:w,addedValue:T,changeStart:ee,changeEnd:te,selectionStart:C,selectionEnd:O}),Ce=re.options,_=So(re,Fo);i.value=_.value,i.setSelectionRange(_.selectionStart,_.selectionEnd),b.value=_.value,b.options=Ce,g.selectionStart=_.selectionStart,g.selectionEnd=_.selectionEnd,(E=i._valueTracker)===null||E===void 0||(P=E.setValue)===null||P===void 0||P.call(E,S)}catch(Ae){if(i.value=g.value,i.setSelectionRange(g.selectionStart,g.selectionEnd),V.preventDefault(),V.stopPropagation(),Ae.name!=="SyntheticChangeError")throw Ae}};document.activeElement===i&&M(),i.addEventListener("focus",M),i.addEventListener("blur",j),i.addEventListener("input",F),o.set(i,{onFocus:M,onBlur:j,onInput:F})}},this.unregister=function(i){var s=o.get(i);s!==void 0&&(i.removeEventListener("focus",s.onFocus),i.removeEventListener("blur",s.onBlur),i.removeEventListener("input",s.onInput),o.delete(i))}}));Dt=Ar,Object.defineProperty(Dt.prototype,Symbol.toStringTag,{writable:!1,enumerable:!1,configurable:!0,value:"Input"});function jo(e,r){return p.useCallback((function(t){e.current=t,typeof r=="function"?r(t):ct(r)==="object"&&r!==null&&(r.current=t)}),[e,r])}var Bt,Eo=["track","modify"];function ie(e){var r,t,n,o;return{mask:(r=e.mask)!==null&&r!==void 0?r:"",replacement:typeof e.replacement=="string"?fe(e.replacement):(t=e.replacement)!==null&&t!==void 0?t:{},showMask:(n=e.showMask)!==null&&n!==void 0&&n,separate:(o=e.separate)!==null&&o!==void 0&&o,track:e.track,modify:e.modify}}var Pr=(function(e){function r(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return uo(this,r),(t=co(this,r,[{init:function(o){var i=o.initialValue,s=o.controlled,c=ie(n),l=c.mask,d=c.replacement,u=c.separate,f=c.showMask;return i=s||i?i:f?l:"",{value:i,options:{mask:l,replacement:d,separate:u}}},tracking:function(o){var i=o.inputType,s=o.previousValue,c=o.previousOptions,l=o.addedValue,d=o.changeStart,u=o.changeEnd,f=ie(n),m=f.track,h=f.modify,v=Fr(f,Eo),b=v.mask,y=v.replacement,g=v.showMask,x=v.separate,M=Ne(Ne({},i==="insert"?{inputType:i,data:l}:{inputType:i,data:null}),{},{value:s,selectionStart:d,selectionEnd:u}),j=m?.(M);if(j===!1)throw new we("Custom tracking stop.");j===null?l="":j!==!0&&j!==void 0&&(l=j);var F=h?.(M);F?.mask!==void 0&&(b=F.mask),F?.replacement!==void 0&&(y=typeof F?.replacement=="string"?fe(F?.replacement):F.replacement),F?.showMask!==void 0&&(g=F.showMask),F?.separate!==void 0&&(x=F.separate);var V=lt(s,Ne({end:d},c)),E=lt(s,Ne({start:u},c)),P=RegExp("[^".concat(Object.keys(y).join(""),"]"),"g"),w=b.replace(P,"");if(V&&(V=xe(V,{replacementChars:w,replacement:y,separate:x}),w=w.slice(V.length)),l&&(l=xe(l,{replacementChars:w,replacement:y,separate:!1}),w=w.slice(l.length)),i==="insert"&&l==="")throw new we("The character does not match the key value of the `replacement` object.");if(x){var C=b.slice(d,u).replace(P,""),O=C.length-l.length;O<0?E=E.slice(-O):O>0&&(E=C.slice(-O)+E)}E&&(E=xe(E,{replacementChars:w,replacement:y,separate:x}));var L=Mr(V+l+E,{mask:b,replacement:y,separate:x,showMask:g}),S=(function(T){var ee,te,me,pe=T.inputType,re=T.value,Ce=T.addedValue,_=T.beforeChangeValue,Ae=T.mask,yt=T.replacement,Yr=T.separate,Qe=jr(re,{mask:Ae,replacement:yt}).filter((function(Je){var St=Je.type;return St==="input"||Yr&&St==="replacement"})),xt=(ee=Qe[_.length+Ce.length-1])===null||ee===void 0?void 0:ee.index,ne=(te=Qe[_.length-1])===null||te===void 0?void 0:te.index,oe=(me=Qe[_.length+Ce.length])===null||me===void 0?void 0:me.index;if(pe==="insert"){if(xt!==void 0)return xt+1;if(oe!==void 0)return oe;if(ne!==void 0)return ne+1}if(pe==="deleteForward"){if(oe!==void 0)return oe;if(ne!==void 0)return ne+1}if(pe==="deleteBackward"){if(ne!==void 0)return ne+1;if(oe!==void 0)return oe}var wt=re.split("").findIndex((function(Je){return Object.prototype.hasOwnProperty.call(yt,Je)}));return wt!==-1?wt:re.length})({inputType:i,value:L,addedValue:l,beforeChangeValue:V,mask:b,replacement:y,separate:x});return{value:L,selectionStart:S,selectionEnd:S,options:{mask:b,replacement:y,separate:x}}}}])).format=function(o){return Er(o,ie(n))},t.formatToParts=function(o){return po(o,ie(n))},t.unformat=function(o){return mo(o,ie(n))},t.generatePattern=function(o){return go(o,ie(n))},t}return ho(r,Ar),fo(r)})();Bt=Pr,Object.defineProperty(Bt.prototype,Symbol.toStringTag,{writable:!1,enumerable:!1,configurable:!0,value:"Mask"});function Vo(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.mask,t=e.replacement,n=e.showMask,o=e.separate,i=e.track,s=e.modify,c=p.useRef(null),l=p.useRef({mask:r,replacement:t,showMask:n,separate:o,track:i,modify:s});return l.current.mask=r,l.current.replacement=t,l.current.showMask=n,l.current.separate=o,l.current.track=i,l.current.modify=s,p.useMemo((function(){return bo(c,new Pr(l.current))}),[])}var Co=["component","mask","replacement","showMask","separate","track","modify"];function Ao(e,r){var t=e.component,n=e.mask,o=e.replacement,i=e.showMask,s=e.separate,c=e.track,l=e.modify,d=Fr(e,Co),u=Vo({mask:n,replacement:o,showMask:i,separate:s,track:c,modify:l}),f=jo(u,r);return t?z.createElement(t,Ge({ref:f},d)):z.createElement("input",Ge({ref:f},d))}var Po=p.forwardRef(Ao);const Or=p.forwardRef(({fieldProps:e,labelProps:r,inputProps:t,descriptionProps:n,label:o,description:i,mask:s="",replacement:c,showMask:l=!1,separate:d=!1},u)=>a.jsx(Ve,{fieldProps:e,labelProps:r,inputProps:t,descriptionProps:n,label:o,description:i,ref:u,children:({id:f,value:m,onChange:h,onBlur:v,ref:b})=>a.jsx(Po,{ref:b,id:f,mask:s,replacement:c,showMask:l,separate:d,value:String(m),onChange:y=>h(y.target.value),onBlur:v,className:A("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t?.className),...t})}));Or.displayName="InputMask";const Tr=p.forwardRef(({fieldProps:e,labelProps:r,inputProps:t,descriptionProps:n,label:o,description:i},s)=>a.jsx(Ve,{fieldProps:e,labelProps:r,inputProps:t,descriptionProps:n,label:o,description:i,ref:s,children:({id:c,value:l,onChange:d,onBlur:u,ref:f})=>a.jsx(br,{ref:f,id:c,value:l,onChange:m=>d(m.target.value),onBlur:u,...t})}));Tr.displayName="InputText";const kr=p.forwardRef(({fieldProps:e,labelProps:r,inputProps:t,descriptionProps:n,label:o,description:i},s)=>{const c=u=>{if(!u)return"";const f=u.padStart(3,"0"),m=f.slice(-2),h=f.slice(0,-2);return`${parseInt(h,10).toString()}:${m}`},l=(u,f)=>m=>{let v=m.target.value.replace(/\D/g,"");if(v=v.slice(0,5),v.length>=2&&parseInt(v.slice(-2),10)>59)return;const b=c(v);f(b)},d=u=>f=>{["Backspace","Delete","ArrowLeft","ArrowRight","Tab","Home","End"].includes(f.key)||f.metaKey||f.ctrlKey||f.altKey||/^\d$/.test(f.key)||f.preventDefault()};return a.jsx(Ve,{fieldProps:e,labelProps:r,inputProps:t,descriptionProps:n,label:o,description:i,ref:s,children:({id:u,value:f,onChange:m,onBlur:h,ref:v})=>a.jsx("input",{ref:v,id:u,type:"text",value:String(f),onChange:l(String(f),m),onKeyDown:d(),onBlur:h,placeholder:"0:00",className:A("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t?.className),...t})})});kr.displayName="InputTimeDuration";const Me=typeof window<"u"?p.useLayoutEffect:p.useEffect;function Oo(e){const[r,t]=p.useState(()=>({form:e.form,name:e.name})),[n,o]=p.useState(()=>new Tt({...e}));(r.form!==e.form||r.name!==e.name)&&(o(new Tt({...e})),t({form:e.form,name:e.name}));const i=$(n.store,e.mode==="array"?h=>Object.keys(h.value??[]).length:h=>h.value),s=$(n.store,h=>h.meta.isTouched),c=$(n.store,h=>h.meta.isBlurred),l=$(n.store,h=>h.meta.isDirty),d=$(n.store,h=>h.meta.errorMap),u=$(n.store,h=>h.meta.errorSourceMap),f=$(n.store,h=>h.meta.isValidating),m=p.useMemo(()=>{const v={...n,get state(){return{value:e.mode==="array"?n.state.value:i,get meta(){return{...n.state.meta,isTouched:s,isBlurred:c,isDirty:l,errorMap:d,errorSourceMap:u,isValidating:f}}}}};return v.Field=Ir,v},[n,e.mode,i,s,c,l,d,u,f]);return Me(n.mount,[n]),Me(()=>{n.update(e)}),m}const Ir=(({children:e,...r})=>{const t=Oo(r),n=p.useMemo(()=>Ee(e,t),[e,t]);return a.jsx(a.Fragment,{children:n})});function To(){return p.useState(()=>pr())[0]}const ko=p.version.split(".")[0]==="17"?To:p.useId;function Io({form:e,selector:r,children:t}){const n=$(e.store,r);return a.jsx(a.Fragment,{children:Ee(t,n)})}function Lo(e){const r=ko(),[t,n]=p.useState(e?.formId),[o,i]=p.useState(()=>new Ot({...e,formId:e?.formId??r}));if(t!==e?.formId){const c=e?.formId??r;i(new Ot({...e,formId:c})),n(c)}const s=p.useMemo(()=>{const c={...o,handleSubmit:((...l)=>o._handleSubmit(...l)),get formId(){return o._formId},get state(){return o.store.state}};return c.Field=function(d){return a.jsx(Ir,{...d,form:o})},c.Subscribe=function(d){return a.jsx(Io,{form:o,selector:d.selector,children:d.children})},c},[o]);return Me(o.mount,[]),Me(()=>{o.update(e)}),s}function No({lens:e,selector:r,children:t}){const n=$(e.store,r);return a.jsx(a.Fragment,{children:Ee(t,n)})}function Ro(e){const[r]=p.useState(()=>{const t=new Ue(e),n=e.form instanceof Ue?e.form.form:e.form,o=t;return o.AppForm=function(s){return a.jsx(n.AppForm,{...s})},o.AppField=function(s){return a.jsx(n.AppField,{...r.getFormFieldOptions(s)})},o.Field=function(s){return a.jsx(n.Field,{...r.getFormFieldOptions(s)})},o.Subscribe=function(s){return a.jsx(No,{lens:r,selector:s.selector,children:s.children})},Object.assign(o,{...e.formComponents})});return Me(r.mount,[r]),r}const $t=p.createContext(null),Lr=p.createContext(null);function Nr(){const e=p.useContext(Lr);if(!e)throw new Error("`formContext` only works when within a `formComponent` passed to `createFormHook`");return e}function _o(){function e(){const r=p.useContext($t);if(!r)throw new Error("`fieldContext` only works when within a `fieldComponent` passed to `createFormHook`");return r}return{fieldContext:$t,useFieldContext:e,useFormContext:Nr,formContext:Lr}}function Do({fieldComponents:e,fieldContext:r,formContext:t,formComponents:n}){function o(l){const d=Lo(l),u=p.useMemo(()=>({children:h})=>a.jsx(t.Provider,{value:d,children:h}),[d]),f=p.useMemo(()=>(({children:v,...b})=>a.jsx(d.Field,{...b,children:y=>a.jsx(r.Provider,{value:y,children:v(Object.assign(y,e))})})),[d]);return p.useMemo(()=>Object.assign(d,{AppField:f,AppForm:u,...n}),[d,f,u])}function i({render:l,props:d}){return u=>l({...d,...u})}function s({render:l,props:d,defaultValues:u}){return function(m){const h=p.useMemo(()=>({form:m.form,fields:m.fields,defaultValues:u,formComponents:n}),[m.form,m.fields]),v=Ro(h);return l({...d,...m,group:v})}}function c(l){return Nr()}return{useAppForm:o,withForm:i,withFieldGroup:s,useTypedAppFormContext:c}}const{fieldContext:Bo,formContext:$o,useFieldContext:zo}=_o(),{useAppForm:Ho,withForm:he}=Do({fieldComponents:{InputText:Tr,InputGroupText:yr,InputMask:Or,InputTimeDuration:kr},formComponents:{},fieldContext:Bo,formContext:$o}),J={printerPrice:0,printerLifetimeHours:0,filamentCostPerKg:0,filamentUsedGrams:0,electricityCostPerKwh:0,printerPowerConsumption:.2,printDurationHours:"",failureRatePercent:10,profitMarginPercent:30};function Wo(e){return q({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M240,52H16A12,12,0,0,0,4,64V192a12,12,0,0,0,12,12H240a12,12,0,0,0,12-12V64A12,12,0,0,0,240,52ZM181.21,180H74.79A60.18,60.18,0,0,0,28,133.21V122.79A60.18,60.18,0,0,0,74.79,76H181.21A60.18,60.18,0,0,0,228,122.79v10.42A60.18,60.18,0,0,0,181.21,180ZM228,97.94A36.23,36.23,0,0,1,206.06,76H228ZM49.94,76A36.23,36.23,0,0,1,28,97.94V76ZM28,158.06A36.23,36.23,0,0,1,49.94,180H28ZM206.06,180A36.23,36.23,0,0,1,228,158.06V180ZM128,88a40,40,0,1,0,40,40A40,40,0,0,0,128,88Zm0,56a16,16,0,1,1,16-16A16,16,0,0,1,128,144Z"},child:[]}]})(e)}function Uo(e){return q({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M214.67,68H204V40a12,12,0,0,0-12-12H64A12,12,0,0,0,52,40V68H41.33C25.16,68,12,80.56,12,96v80a12,12,0,0,0,12,12H52v28a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V188h28a12,12,0,0,0,12-12V96C244,80.56,230.84,68,214.67,68ZM76,52H180V68H76ZM180,204H76V172H180Zm40-40H204v-4a12,12,0,0,0-12-12H64a12,12,0,0,0-12,12v4H36V96c0-2.17,2.44-4,5.33-4H214.67c2.89,0,5.33,1.83,5.33,4Zm-16-44a16,16,0,1,1-16-16A16,16,0,0,1,204,120Z"},child:[]}]})(e)}function Go(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(e)}const k=z.memo(({content:e})=>a.jsxs(tn,{children:[a.jsx(rn,{children:a.jsx(Go,{className:"text-muted-foreground"})}),a.jsx(nn,{className:"max-w-xs",children:e})]}));k.displayName="TooltipInfo";const Rr=he({defaultValues:J,render:({form:e})=>a.jsxs(a.Fragment,{children:[a.jsx(e.AppField,{name:"printerPrice",children:r=>a.jsx(r.InputGroupText,{label:a.jsxs(a.Fragment,{children:["PreÃ§o da impressora",a.jsx(k,{content:"Informe o preÃ§o de compra da impressora."})]}),inputProps:{type:"number",step:"0.01"},addon:a.jsx(Z,{children:"R$"})})}),a.jsx(e.AppField,{name:"printerLifetimeHours",children:r=>a.jsx(r.InputGroupText,{label:a.jsxs(a.Fragment,{children:["Vida Ãºtil da impressora",a.jsx(k,{content:"Informe a vida Ãºtil estimada da impressora em horas."})]}),inputProps:{type:"number",step:"0.01"},addon:a.jsx(Z,{children:"H"})})})]})});Rr.displayName="PrinterDepreciationForm";const _r=he({defaultValues:J,render:({form:e})=>a.jsx(a.Fragment,{children:a.jsx(e.AppField,{name:"filamentCostPerKg",children:r=>a.jsx(r.InputGroupText,{label:a.jsxs(a.Fragment,{children:["Custo do filamento",a.jsx(k,{content:"Informe o custo do filamento por quilograma."})]}),inputProps:{type:"number",step:"0.01"},addon:a.jsx(Z,{children:"R$/kg"})})})})});_r.displayName="FilamentForm";const Dr=he({defaultValues:J,render:({form:e})=>a.jsxs(a.Fragment,{children:[a.jsx(e.AppField,{name:"electricityCostPerKwh",children:r=>a.jsx(r.InputGroupText,{label:a.jsxs(a.Fragment,{children:["Custo da eletricidade",a.jsx(k,{content:"Informe o custo da eletricidade por quilowatt-hora."})]}),inputProps:{type:"number",step:"0.01"},addon:a.jsx(Z,{children:"R$/kWh"})})}),a.jsx(e.AppField,{name:"printerPowerConsumption",children:r=>a.jsx(r.InputGroupText,{label:a.jsxs(a.Fragment,{children:["Consumo de energia da impressora",a.jsx(k,{content:"Informe o consumo de energia da impressora em quilowatts."})]}),inputProps:{type:"number",step:"0.01"},addon:a.jsx(Z,{children:"kW"})})})]})});Dr.displayName="EnergyForm";const Br=he({defaultValues:J,render:({form:e})=>a.jsxs(a.Fragment,{children:[a.jsx(e.AppField,{name:"filamentUsedGrams",children:r=>a.jsx(r.InputGroupText,{label:a.jsxs(a.Fragment,{children:["Quantidade de filamento usado",a.jsx(k,{content:"Informe a quantidade de filamento usado em gramas."})]}),inputProps:{type:"number",step:"0.01"}})}),a.jsx(e.AppField,{name:"printDurationHours",children:r=>a.jsx(r.InputTimeDuration,{label:a.jsxs(a.Fragment,{children:["DuraÃ§Ã£o da impressÃ£o",a.jsx(k,{content:"Informe a duraÃ§Ã£o da impressÃ£o."})]})})}),a.jsx(e.AppField,{name:"failureRatePercent",children:r=>a.jsx(r.InputGroupText,{label:a.jsxs(a.Fragment,{children:["Taxa de falha",a.jsx(k,{content:"Informe a taxa de falha em porcentagem."})]}),inputProps:{type:"number",step:"0.01"},addon:a.jsx(Z,{children:"%"})})})]})});Br.displayName="PrintForm";const $r=he({defaultValues:J,render:({form:e})=>a.jsx(a.Fragment,{children:a.jsx(e.AppField,{name:"profitMarginPercent",children:r=>a.jsx(r.InputGroupText,{label:a.jsxs(a.Fragment,{children:["Margem de lucro",a.jsx(k,{content:"Informe a margem de lucro em porcentagem."})]}),inputProps:{type:"number",step:"0.01"},addon:a.jsx(Z,{children:"%"})})})})});$r.displayName="ProfitForm";function zr({className:e,...r}){return a.jsx("div",{"data-slot":"card",className:A("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function Hr({className:e,...r}){return a.jsx("div",{"data-slot":"card-header",className:A("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function Wr({className:e,...r}){return a.jsx("div",{"data-slot":"card-title",className:A("leading-none font-semibold",e),...r})}function Ur({className:e,...r}){return a.jsx("div",{"data-slot":"card-description",className:A("text-muted-foreground text-sm",e),...r})}function Ko({className:e,...r}){return a.jsx("div",{"data-slot":"card-action",className:A("col-start-2 row-span-2 row-start-1 self-start justify-self-end",e),...r})}function Gr({className:e,...r}){return a.jsx("div",{"data-slot":"card-content",className:A("px-6",e),...r})}function qo({...e}){return a.jsx(pn,{"data-slot":"collapsible",...e})}function Xo({...e}){return a.jsx(Yt,{"data-slot":"collapsible-trigger",...e})}function Yo({...e}){return a.jsx(Zt,{"data-slot":"collapsible-content",...e})}function Zo(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m7 6 5 5 5-5"},child:[]},{tag:"path",attr:{d:"m7 13 5 5 5-5"},child:[]}]})(e)}function Qo(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m17 11-5-5-5 5"},child:[]},{tag:"path",attr:{d:"m17 18-5-5-5 5"},child:[]}]})(e)}function Kr({title:e,description:r,children:t,icon:n}){const[o,i]=p.useState(!0);return a.jsx(qo,{open:o,onOpenChange:i,children:a.jsxs(zr,{children:[a.jsxs(Hr,{children:[a.jsxs(Wr,{className:"flex items-center gap-2",children:[n,e]}),a.jsx(Ur,{children:r}),a.jsx(Ko,{children:a.jsx(Xo,{asChild:!0,children:a.jsx(io,{variant:"ghost",size:"icon",children:o?a.jsx(Qo,{}):a.jsx(Zo,{})})})})]}),a.jsx(Yo,{children:a.jsx(Gr,{className:"flex flex-col gap-4",children:t})})]})})}Kr.displayName="RenderSession";function Jo(e){return q({attr:{version:"1.1",viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M16 14.176c-5.915 0-10.549-2.085-10.549-4.747s4.634-4.747 10.549-4.747 10.549 2.085 10.549 4.747c0 2.662-4.634 4.747-10.549 4.747zM16 5.737c-4.491 0-9.494 1.516-9.494 3.692s5.003 3.692 9.494 3.692c4.491 0 9.494-1.516 9.494-3.692s-5.004-3.692-9.494-3.692zM16 18.396c-5.915 0-10.549-2.085-10.549-4.747v-4.22c0-0.292 0.236-0.527 0.527-0.527s0.527 0.236 0.527 0.527v4.22c0 2.176 5.003 3.692 9.494 3.692s9.494-1.516 9.494-3.692v-4.22c0-0.292 0.236-0.527 0.527-0.527s0.527 0.236 0.527 0.527v4.22c0 2.662-4.634 4.747-10.549 4.747zM16 23.143c-5.915 0-10.549-2.085-10.549-4.747v-4.747c0-0.291 0.236-0.527 0.527-0.527s0.527 0.236 0.527 0.527v4.747c0 2.176 5.003 3.692 9.494 3.692s9.494-1.517 9.494-3.692v-4.747c0-0.291 0.236-0.527 0.527-0.527s0.527 0.236 0.527 0.527v4.747c0 2.662-4.634 4.747-10.549 4.747zM16 27.89c-5.915 0-10.549-2.085-10.549-4.747v-4.747c0-0.291 0.236-0.527 0.527-0.527s0.527 0.236 0.527 0.527v4.747c0 2.176 5.003 3.692 9.494 3.692s9.494-1.517 9.494-3.692v-4.747c0-0.291 0.236-0.527 0.527-0.527s0.527 0.236 0.527 0.527v4.747c0 2.662-4.634 4.747-10.549 4.747z"},child:[]}]})(e)}function ei(e){return q({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M595.344 64.72h.176-.176zm0 0l-72.207 379.377 261.584.88L428.657 959.28l72.208-417.376-261.568-.912zm.049-63.999c-1.728 0-3.455.063-5.151.19-11.296.913-18.785 4.689-27.664 10.657a64.304 64.304 0 0 0-13.392 11.936 56.688 56.688 0 0 0-3.297 4.288L187.281 502.4c-14.16 19.408-16.24 45.025-5.36 66.433 10.864 21.408 32.832 34.976 56.912 35.152l184.736 1.344-58.08 342.192c-5.52 29.408 10.16 58.72 37.76 70.528a64.19 64.19 0 0 0 25.391 5.216c20.112 0 36.64-9.408 49.041-26.4L836.737 482.56c14.16-19.409 16.225-45.057 5.36-66.433-10.864-21.408-32.832-34.977-56.912-35.152l-184.736-.32 57.456-300.88a62.46 62.46 0 0 0 1.825-15.056c0-34.624-27.569-62.848-62.065-63.968-.767-.032-1.52-.032-2.271-.032z"},child:[]}]})(e)}function ti(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 30c-32 64-22.35 180.063 0 208 42.406 53.007 80 80 80 128 0 32-16 80-48 112v16H176v-16c-32.002-31.995-48-80-48-112 0-48 37.594-74.993 80-128 22.35-27.937 32-144 0-208 48-16 48-16 96 0z"},child:[]}]})(e)}function ri({className:e,children:r,...t}){return a.jsxs(Pn,{"data-slot":"scroll-area",className:A("relative",e),...t,children:[a.jsx(On,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:r}),a.jsx(qr,{}),a.jsx(Tn,{})]})}function qr({className:e,orientation:r="vertical",...t}){return a.jsx(nr,{"data-slot":"scroll-area-scrollbar",orientation:r,className:A("flex touch-none p-px transition-colors select-none",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...t,children:a.jsx(ar,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const zt=[{title:"DepreciaÃ§Ã£o da Impressora",description:"Informe dados sobre a depreciaÃ§Ã£o da impressora.",icon:a.jsx(Uo,{className:"text-3xl"}),form:Rr},{title:"Filamento",description:"Informe dados sobre o filamento.",icon:a.jsx(Jo,{className:"text-3xl"}),form:_r},{title:"Energia",description:"Informe dados sobre o consumo de energia.",icon:a.jsx(ei,{className:"text-3xl"}),form:Dr},{title:"ImpressÃ£o",description:"Informe dados sobre a impressÃ£o.",icon:a.jsx(ti,{className:"text-3xl"}),form:Br},{title:"Lucro",description:"Informe dados sobre o lucro.",icon:a.jsx(Wo,{className:"text-3xl"}),form:$r}],Xr=he({defaultValues:J,render:({form:e})=>a.jsxs(ri,{className:"flex flex-1 max-h-[90dvh] pr-4",children:[a.jsx("form",{className:"flex flex-col gap-4 flex-1",onSubmit:r=>{r.preventDefault()},children:zt.map(r=>{const t=r.form;return a.jsxs(p.Fragment,{children:[r.title!==zt[0].title&&a.jsx(gr,{}),a.jsx(Kr,{title:r.title,description:r.description,icon:r.icon,children:a.jsx(t,{form:e})},r.title)]},r.title)})}),a.jsx(qr,{orientation:"horizontal"})]})});Xr.displayName="Form";function ni({className:e,...r}){return a.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:a.jsx("table",{"data-slot":"table",className:A("w-full caption-bottom text-sm",e),...r})})}function oi({className:e,...r}){return a.jsx("tbody",{"data-slot":"table-body",className:A("[&_tr:last-child]:border-0",e),...r})}function ge({className:e,...r}){return a.jsx("tr",{"data-slot":"table-row",className:A("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...r})}function D({className:e,...r}){return a.jsx("td",{"data-slot":"table-cell",className:A("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r})}function ii({className:e,...r}){return a.jsx("caption",{"data-slot":"table-caption",className:A("text-muted-foreground mt-4 text-sm",e),...r})}function si({className:e,...r}){return a.jsx("div",{"data-slot":"skeleton",className:A("bg-accent animate-pulse rounded-md",e),...r})}function ai({values:e}){const r=g=>isNaN(g)||g===null||g===void 0||g===0?a.jsx(si,{className:"w-20 h-5"}):g.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),n=(g=>{if(typeof g=="number")return g;if(!g||typeof g!="string")return 0;const x=g.split(":");if(x.length!==2)return 0;const M=parseInt(x[0],10)||0,j=parseInt(x[1],10)||0;return M+j/60})(e.printDurationHours),o=e.printerPrice/(e.printerLifetimeHours||1),i=o*n,c=e.filamentUsedGrams/1e3*e.filamentCostPerKg,l=e.failureRatePercent/100,d=c*l,u=c+d,h=e.printerPowerConsumption*n*e.electricityCostPerKwh,v=i+u+h,b=v*(1+e.profitMarginPercent/100),y=b-v;return a.jsx(a.Fragment,{children:a.jsxs(zr,{children:[a.jsxs(Hr,{children:[a.jsx(Wr,{children:"Resultados do cÃ¡lculo"}),a.jsx(Ur,{children:"Aqui vocÃª verÃ¡ os resultados do cÃ¡lculo baseado nos dados fornecidos."})]}),a.jsxs(Gr,{children:[a.jsxs(ni,{children:[a.jsx(ii,{children:"CÃ¡lculo de resultados"}),a.jsxs(oi,{children:[a.jsxs(ge,{children:[a.jsxs(D,{className:"font-medium flex items-center gap-1",children:["DepreciaÃ§Ã£o por hora",a.jsx(k,{content:a.jsxs(a.Fragment,{children:["A depreciaÃ§Ã£o por hora Ã© calculada dividindo o preÃ§o da impressora pelo nÃºmero total de horas que ela pode ser usada durante sua vida Ãºtil. ",a.jsx("br",{})," Isso representa o custo de desgaste e obsolescÃªncia da impressora para cada hora de uso."]})})]}),a.jsx(D,{className:"text-right",children:r(o)})]}),a.jsxs(ge,{children:[a.jsxs(D,{className:"font-medium flex items-center gap-1",children:["Custo de depreciaÃ§Ã£o na peÃ§a",a.jsx(k,{content:a.jsxs(a.Fragment,{children:["O custo de depreciaÃ§Ã£o na peÃ§a Ã© calculado multiplicando a depreciaÃ§Ã£o por hora pelo nÃºmero de horas que a impressora foi usada para imprimir a peÃ§a. ",a.jsx("br",{})," Isso representa o custo associado ao desgaste da impressora para aquela peÃ§a especÃ­fica."]})})]}),a.jsx(D,{className:"text-right",children:r(i)})]}),a.jsxs(ge,{children:[a.jsxs(D,{className:"font-medium flex items-center gap-1",children:["Custo do filamento",a.jsx(k,{content:a.jsxs(a.Fragment,{children:["O custo do filamento Ã© calculado multiplicando a quantidade de filamento usado (em kg) pelo custo por kg do filamento. ",a.jsx("br",{})," Isso representa o custo do material consumido para imprimir a peÃ§a."]})})]}),a.jsx(D,{className:"text-right",children:r(c)})]}),a.jsxs(ge,{children:[a.jsxs(D,{className:"font-medium flex items-center gap-1",children:["Custo de perda de filamento",a.jsx(k,{content:a.jsxs(a.Fragment,{children:["O custo de perda de filamento representa o valor do filamento que foi desperdiÃ§ado durante o processo de impressÃ£o. ",a.jsx("br",{})," Isso pode incluir falhas na impressÃ£o, suportes removidos ou qualquer outro desperdÃ­cio de material."]})})]}),a.jsx(D,{className:"text-right",children:r(d)})]}),a.jsxs(ge,{children:[a.jsxs(D,{className:"font-medium flex items-center gap-1",children:["Custo de energia",a.jsx(k,{content:a.jsxs(a.Fragment,{children:["O custo de energia Ã© calculado multiplicando a quantidade de energia consumida (em kWh) pelo custo por kWh da eletricidade. ",a.jsx("br",{})," Isso representa o custo da energia elÃ©trica utilizada para imprimir a peÃ§a."]})})]}),a.jsx(D,{className:"text-right",children:r(h)})]})]})]}),a.jsx(gr,{className:"my-4"}),a.jsxs("div",{className:"flex flex-col gap-4 p-4 ",children:[a.jsxs("div",{className:"flex align-center justify-between gap-2 items-center",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Custo Total"}),a.jsx(k,{content:a.jsxs(a.Fragment,{children:["O custo total Ã© a soma de todos os custos envolvidos na impressÃ£o da peÃ§a, incluindo depreciaÃ§Ã£o, custo do filamento, custo de perda de filamento e custo de energia.",a.jsx("br",{})," Ele representa o valor total gasto para produzir a peÃ§a."]})})]}),a.jsx("div",{className:"text-2xl font-bold",children:r(v)})]}),a.jsxs("div",{className:"flex align-center justify-between gap-2 items-center",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Lucro Estimado"}),a.jsx(k,{content:a.jsxs(a.Fragment,{children:["O lucro estimado Ã© calculado subtraindo o custo total do preÃ§o de venda sugerido. ",a.jsx("br",{})," Ele representa o valor potencial de lucro que pode ser obtido com a venda da peÃ§a com base nos custos calculados e na margem de lucro definida."]})})]}),a.jsx("div",{className:"text-2xl font-bold text-green-600",children:r(y)})]}),a.jsxs("div",{className:"flex align-center justify-between gap-2 items-center",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"PreÃ§o de Venda Sugerido"}),a.jsx(k,{content:a.jsxs(a.Fragment,{children:["O preÃ§o de venda sugerido Ã© calculado multiplicando o custo total por (1 + margem de lucro). ",a.jsx("br",{})," Ele representa o preÃ§o recomendado para vender a peÃ§a, levando em consideraÃ§Ã£o os custos envolvidos e a margem de lucro desejada."]})})]}),a.jsx("div",{className:"text-2xl font-bold text-green-600",children:r(b)})]})]})]})]})})}const Ht={Form:Xr,Result:ai};function ci(){const e=Ho({defaultValues:J}),r=$(e.store,t=>t.values);return a.jsxs("div",{className:"flex flex-col md:flex-row w-full gap-4 p-4",children:[a.jsx(Ht.Form,{form:e}),a.jsx("div",{className:"flex flex-col gap-4 flex-1",children:a.jsx(Ht.Result,{values:r})})]})}export{ci as component};
